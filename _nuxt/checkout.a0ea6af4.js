import{H as re,T as ie}from"./components.59816fe7.js";import{B as ce,C as de,E as ue,F as S,K as me,R as fe,S as pe,a as he,T as _e,b as ge,e as be,f as ye,V as ve,h as xe,i as we,j as ke,k as Ce,l as $e,m as Se,p as Ee,q as Me,r as Ie,c as E,s as I,t as h,v as e,w as Te,x as Be,y as Re,z as Pe,A as je,D as Ne,G as v,H as l,I as ze,d as Oe,J as B,L as Ve,M as Ae,N as He,O as De,P as Le,Q as Fe,U as Ue,W as qe,X as U,Y as Je,Z as Ke,g as We,$ as Ge,a0 as Qe,a1 as Ye,a2 as Xe,a3 as Ze,a4 as et,a5 as tt,a6 as st,a7 as ot,a8 as at,a9 as D,aa as nt,ab as lt,ac as rt,ad as it,ae as ct,af as dt,ag as te,ah as q,n as ut,ai as mt,aj as ft,ak as pt,al as ht,am as _t,an as gt,ao as bt,ap as se,aq as yt,ar as vt,as as xt,at as wt,au as J,av as kt,o as u,aw as Ct,ax as $t,ay as St,az as Et,aA as Mt,aB as It,aC as Tt,aD as y,aE as Bt,aF as Rt,aG as z,aH as Pt,aI as jt,aJ as Nt,aK as oe,aL as zt,aM as Ot,aN as Vt,aO as At,aP as Ht,aQ as Dt,aR as Lt,aS as Ft,aT as Ut,aU as qt,aV as Jt,aW as w,aX as Kt,aY as Wt,aZ as Gt,a_ as Qt,a$ as Yt,b0 as Xt,b1 as Zt,u as t,b2 as es,b3 as ts,b4 as ss,b5 as os,b6 as as,b7 as ns,b8 as ls,b9 as rs,ba as is,bb as cs,bc as L,bd as ds,be as us,bf as ms,bg as fs,bh as ps,bi as hs,bj as _s,bk as gs,bl as d,bm as bs,bn as F,bo as ys,bp as vs,bq as xs,br as ws,bs as K,bt as T,bu as W,bv as O,bw as G,bx as R,by as ae,bz as Q,bA as ks,bB as Cs,bC as $s,bD as Ss,bE as Es}from"./entry.bb5f1e7a.js";const Ms=()=>{},Is=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ce,Comment:de,EffectScope:ue,Fragment:S,KeepAlive:me,ReactiveEffect:fe,Static:pe,Suspense:he,Teleport:_e,Text:ge,Transition:be,TransitionGroup:ye,VueElement:ve,assertNumber:xe,callWithAsyncErrorHandling:we,callWithErrorHandling:ke,camelize:Ce,capitalize:$e,cloneVNode:Se,compatUtils:Ee,compile:Ms,computed:Me,createApp:Ie,createBlock:E,createCommentVNode:I,createElementBlock:h,createElementVNode:e,createHydrationRenderer:Te,createPropsRestProxy:Be,createRenderer:Re,createSSRApp:Pe,createSlots:je,createStaticVNode:Ne,createTextVNode:v,createVNode:l,customRef:ze,defineAsyncComponent:Oe,defineComponent:B,defineCustomElement:Ve,defineEmits:Ae,defineExpose:He,defineProps:De,defineSSRCustomElement:Le,get devtools(){return Fe},effect:Ue,effectScope:qe,getCurrentInstance:U,getCurrentScope:Je,getTransitionRawChildren:Ke,guardReactiveProps:We,h:Ge,handleError:Qe,hydrate:Ye,initCustomFormatter:Xe,initDirectivesForSSR:Ze,inject:et,isMemoSame:tt,isProxy:st,isReactive:ot,isReadonly:at,isRef:D,isRuntimeOnly:nt,isShallow:lt,isVNode:rt,markRaw:it,mergeDefaults:ct,mergeProps:dt,nextTick:te,normalizeClass:q,normalizeProps:ut,normalizeStyle:mt,onActivated:ft,onBeforeMount:pt,onBeforeUnmount:ht,onBeforeUpdate:_t,onDeactivated:gt,onErrorCaptured:bt,onMounted:se,onRenderTracked:yt,onRenderTriggered:vt,onScopeDispose:xt,onServerPrefetch:wt,onUnmounted:J,onUpdated:kt,openBlock:u,popScopeId:Ct,provide:$t,proxyRefs:St,pushScopeId:Et,queuePostFlushCb:Mt,reactive:It,readonly:Tt,ref:y,registerRuntimeCompiler:Bt,render:Rt,renderList:z,renderSlot:Pt,resolveComponent:jt,resolveDirective:Nt,resolveDynamicComponent:oe,resolveFilter:zt,resolveTransitionHooks:Ot,setBlockTracking:Vt,setDevtoolsHook:At,setTransitionHooks:Ht,shallowReactive:Dt,shallowReadonly:Lt,shallowRef:Ft,ssrContextKey:Ut,ssrUtils:qt,stop:Jt,toDisplayString:w,toHandlerKey:Kt,toHandlers:Wt,toRaw:Gt,toRef:Qt,toRefs:Yt,transformVNodeArgs:Xt,triggerRef:Zt,unref:t,useAttrs:es,useCssModule:ts,useCssVars:ss,useSSRContext:os,useSlots:as,useTransitionState:ns,vModelCheckbox:ls,vModelDynamic:rs,vModelRadio:is,vModelSelect:cs,vModelText:L,vShow:ds,version:us,warn:ms,watch:fs,watchEffect:ps,watchPostEffect:hs,watchSyncEffect:_s,withAsyncContext:gs,withCtx:d,withDefaults:bs,withDirectives:F,withKeys:ys,withMemo:vs,withModifiers:xs,withScopeId:ws},Symbol.toStringTag,{value:"Module"}));function Ts(a){if(a.__esModule)return a;var s=a.default;if(typeof s=="function"){var r=function i(){if(this instanceof i){var n=[null];n.push.apply(n,arguments);var p=Function.bind.apply(s,n);return new p}return s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var n=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return a[i]}})}),r}const V=Ts(Is),{createElementVNode:Bs,openBlock:Rs,createElementBlock:Ps}=V;var js=function(s,r){return Rs(),Ps("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Bs("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])};const{createElementVNode:Ns,openBlock:zs,createElementBlock:Os}=V;var Vs=function(s,r){return zs(),Os("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Ns("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])};const{createElementVNode:As,openBlock:Hs,createElementBlock:Ds}=V;var Ls=function(s,r){return Hs(),Ds("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[As("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])},Fs=js,Y=Vs,Us=Ls;const{createElementVNode:qs,openBlock:Js,createElementBlock:Ks}=V;var Ws=function(s,r){return Js(),Ks("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[qs("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})])},ne=Ws;const Gs=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Qs={class:"fixed inset-0 z-10 overflow-y-auto"},Ys={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Xs={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Zs={class:"sm:flex sm:items-start"},eo={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},to={class:"mt-3 sm:ml-4 sm:mt-0 text-left"},so=e("div",{class:"mt-2"},[e("p",{class:"mb-2"},[v(" This checkout page uses the "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/guides/custom_checkout/"},"Bambora's Custom Checkout library"),v(" to customize the checkout form. ")]),e("p",{class:"mb-2"},"To continue, you can use the test card:"),e("ul",{class:"list-disc ml-8 my-2"},[e("li",null,"card #: 4030 0000 1000 1234"),e("li",null,"code: 123"),e("li",null,[v("expiry: 12/99 "),e("span",{class:"text-gray-400"},"(any date in the future)")])]),e("p",{class:"my-2"},[v("For a more comprehensive list of test cards, "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/references/payment_APIs/test_cards/"},"see the Bambora test cards page")])],-1),oo={__name:"CCInfoModal",setup(a){const s=y(!1);function r(){s.value=!s.value}return(i,n)=>(u(),h(S,null,[e("button",{class:"ml-1 rounded-full",onClick:r},[l(t(ne),{class:"h-6 w-6 text-blue-600"})]),l(t(G),{as:"template",show:t(s)},{default:d(()=>[l(t(K),{as:"div",class:"relative z-10",onClose:n[0]||(n[0]=p=>s.value=!1)},{default:d(()=>[l(t(T),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:d(()=>[Gs]),_:1}),e("div",Qs,[e("div",Ys,[l(t(T),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:d(()=>[l(t(W),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:d(()=>[e("div",Xs,[e("div",Zs,[e("div",eo,[l(t(Y),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",to,[l(t(O),{as:"h3",class:"text-base text-center sm:text-left font-semibold leading-6 text-gray-900"},{default:d(()=>[v("For demonstration purposes only")]),_:1}),so])])]),e("div",{class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:r},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}};function ao({cardNumberElementId:a,isCardNumberComplete:s,cardNumberError:r,cvvElementId:i,isCVVComplete:n,cvvError:p,expiryElementId:b,isExpiryComplete:c,expiryError:_,setTokenizedCard:f,tokenizationError:x,cardBrandSVG:g,setIsLoading:P}){const k={init:function(){console.log("checkout.init()"),this.customCheckout=customcheckout(),this.createInputs(),this.addListeners()},createInputs:function(){console.log("checkout.createInputs()");var o={};let C=a||"#card-number";this.customCheckout.create("card-number",o).mount(C);let j=i||"#card-cvv";this.customCheckout.create("cvv",o).mount(j);let N=b||"#card-expiry";this.customCheckout.create("expiry",o).mount(N)},addListeners:function(){this.customCheckout.on("brand",function(o){console.log("brand: "+JSON.stringify(o)),o.brand&&o.brand!=="unknown"?g.value=`https://cdn.na.bambora.com/downloads/images/cards/${o.brand}.svg`:g.value=void 0}),this.customCheckout.on("empty",function(o){console.log("empty: "+JSON.stringify(o)),o.empty&&(o.field==="card-number"?s.value=!1:o.field==="cvv"?n.value=!1:o.field==="expiry"&&(c.value=!1))}),this.customCheckout.on("complete",function(o){console.log("complete: "+JSON.stringify(o)),o.field==="card-number"?(r.value=void 0,s.value=!0):o.field==="cvv"?(p.value=void 0,n.value=!0):o.field==="expiry"&&(_.value=void 0,c.value=!0)}),this.customCheckout.on("error",function(o){console.log("error: "+JSON.stringify(o)),o.field==="card-number"?(r.value=o.message,s.value=!1):o.field==="cvv"?(p.value=o.message,n.value=!1):o.field==="expiry"&&(_.value=o.message,c.value=!1)})},onSubmit:function(){console.log("checkout.onSubmit()"),f(void 0),x.value=void 0,P(!0);var o=function(C){console.log("token result : "+JSON.stringify(C)),C.error?x.value=`Error creating token: ${JSON.stringify(C.error,null,4)}`:f(C.token),P(!1)};console.log("checkout.createToken()"),this.customCheckout.createToken(o)}};return k.init(),k}function H(a){return typeof a=="function"?a():t(a)}const no=typeof window<"u",lo=()=>{};function ro(a,s=!0){U()?se(a):s?a():te(a)}function io(a){U()&&J(a)}const co=no?window.document:void 0;function uo(a,s=lo,r={}){const{immediate:i=!0,manual:n=!1,type:p="text/javascript",async:b=!0,crossOrigin:c,referrerPolicy:_,noModule:f,defer:x,document:g=co,attrs:P={}}=r,k=y(null);let o=null;const C=M=>new Promise((X,Z)=>{const A=$=>(k.value=$,X($),$);if(!g){X(!1);return}let ee=!1,m=g.querySelector(`script[src="${H(a)}"]`);m?m.hasAttribute("data-loaded")&&A(m):(m=g.createElement("script"),m.type=p,m.async=b,m.src=H(a),x&&(m.defer=x),c&&(m.crossOrigin=c),f&&(m.noModule=f),_&&(m.referrerPolicy=_),Object.entries(P).forEach(([$,le])=>m==null?void 0:m.setAttribute($,le)),ee=!0),m.addEventListener("error",$=>Z($)),m.addEventListener("abort",$=>Z($)),m.addEventListener("load",()=>{m.setAttribute("data-loaded","true"),s(m),A(m)}),ee&&(m=g.head.appendChild(m)),M||A(m)}),j=(M=!0)=>(o||(o=C(M)),o),N=()=>{if(!g)return;o=null,k.value&&(k.value=null);const M=g.querySelector(`script[src="${H(a)}"]`);M&&g.head.removeChild(M)};return i&&!n&&ro(j),n||io(N),{scriptTag:k,load:j,unload:N}}const mo={class:"mb-4 items-center"},fo={class:"flex items-center text-base font-semibold leading-7 text-gray-900"},po={class:"grid grid-cols-1 gap-x-6 gap-y-8 grid-cols-6"},ho={class:"col-span-6"},_o=e("label",{for:"card-number",class:"block text-sm font-medium leading-6 text-gray-900"},"Card Number",-1),go={class:"mt-2"},bo=e("div",{id:"card-number",class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm leading-6"},null,-1),yo={key:0,class:"text-red-500 text-xs italic"},vo={class:"col-span-3"},xo=e("label",{for:"card-cvv",class:"block text-sm font-medium leading-6 text-gray-900"},"CVV",-1),wo={class:"mt-2"},ko=e("div",{name:"card-cvv",id:"card-cvv",class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm leading-6"},null,-1),Co={key:0,class:"text-red-500 text-xs italic"},$o={class:"col-span-3"},So=e("label",{for:"card-expiry",class:"block text-sm font-medium leading-6 text-gray-900"},"Expiry",-1),Eo={class:"mt-2"},Mo=e("div",{id:"card-expiry",class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm leading-6"},null,-1),Io={key:0,class:"text-red-500 text-xs italic"},To={key:0,class:"col-span-6"},Bo={class:"text-red-500 text-xs italic"},Ro={class:"col-span-6"},Po=["disabled"],jo={key:0,viewBox:"0 0 30 24",class:"mr-3 h-5 w-5"},No=["xlink:href"],zo={__name:"CCInputs",setup(a){const s=R(),r=ae(),i=y(void 0),n=y(!1),p=y(void 0),b=y(!1),c=y(void 0),_=y(!1),f=y(void 0),x=y(void 0),g=y(void 0);return uo("https://libs.na.bambora.com/customcheckout/1/customcheckout.js",()=>{g.value=ao({isCardNumberComplete:n,cardNumberError:i,isCVVComplete:b,cvvError:p,isExpiryComplete:_,expiryError:c,setTokenizedCard:s.setTokenizedCard,tokenizationError:f,cardBrandSVG:x,setIsLoading:r.setIsLoading})}),(P,k)=>{const o=oo;return u(),h("div",null,[e("div",mo,[e("h3",fo,[v("Credit Card Information "),l(o)])]),e("div",po,[e("div",ho,[_o,e("div",go,[bo,t(i)?(u(),h("p",yo,w(t(i)),1)):I("",!0)])]),e("div",vo,[xo,e("div",wo,[ko,t(p)?(u(),h("p",Co,w(t(p)),1)):I("",!0)])]),e("div",$o,[So,e("div",Eo,[Mo,t(c)?(u(),h("p",Io,w(t(c)),1)):I("",!0)])]),t(f)?(u(),h("div",To,[e("p",Bo,w(t(f)),1)])):I("",!0),e("div",Ro,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",disabled:!t(g)||!t(n)||!t(b)||!t(_),onClick:k[0]||(k[0]=(...C)=>t(g).onSubmit&&t(g).onSubmit(...C))},[t(x)!==void 0?(u(),h("svg",jo,[e("image",{"xlink:href":t(x),width:"30",height:"24"},null,8,No)])):I("",!0),v(" Pay ")],8,Po)])])])}}},Oo=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Vo={class:"fixed inset-0 z-10 overflow-y-auto"},Ao={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ho={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Do={class:"sm:flex sm:items-start"},Lo={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},Fo={class:"mt-3 sm:ml-4 sm:mt-0 text-left"},Uo=e("div",{class:"mt-2"},[e("p",{class:"mb-2"},[v(" The token retrieved in the previous section should be sent to a server, which will use the merchant id/passcode to complete the transaction using the "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/references/payment_APIs/"},"Bambora Payment API")]),e("p",{class:"mb-2"}," For the purposes of this demo, this section can be used to simulate the server-side request, on the client side. This should NOT be done in production as it will expose your merchant id/passcode. ")],-1),qo={__name:"MerchantInfoModal",setup(a){const s=y(!1);function r(){s.value=!s.value}return(i,n)=>(u(),h(S,null,[e("button",{class:"ml-1 rounded-full",onClick:r},[l(t(ne),{class:"h-6 w-6 text-blue-600"})]),l(t(G),{as:"template",show:t(s)},{default:d(()=>[l(t(K),{as:"div",class:"relative z-10",onClose:n[0]||(n[0]=p=>s.value=!1)},{default:d(()=>[l(t(T),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:d(()=>[Oo]),_:1}),e("div",Vo,[e("div",Ao,[l(t(T),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:d(()=>[l(t(W),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:d(()=>[e("div",Ho,[e("div",Do,[e("div",Lo,[l(t(Y),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",Fo,[l(t(O),{as:"h3",class:"text-center sm:text-left text-base font-semibold leading-6 text-gray-900"},{default:d(()=>[v("Server side request")]),_:1}),Uo])])]),e("div",{class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:r},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},Jo={class:"mb-4 items-center"},Ko={class:"flex items-center text-base font-semibold leading-7 text-gray-900"},Wo={class:"grid grid-cols-1 gap-x-6 gap-y-8 grid-cols-6"},Go={class:"col-span-6"},Qo=e("label",{for:"cc-token",class:"block text-sm font-medium leading-6 text-gray-900"},"CC Token",-1),Yo={class:"mt-2"},Xo=["value"],Zo={class:"col-span-6"},ea=e("label",{for:"merchant-id",class:"block text-sm font-medium leading-6 text-gray-900"},"Merchant Id",-1),ta={class:"mt-2"},sa={class:"col-span-6"},oa=e("label",{for:"merchant-passcode",class:"block text-sm font-medium leading-6 text-gray-900"},"Merchant Passcode",-1),aa={class:"mt-2"},na={class:"col-span-6"},la=["disabled"],ra=B({__name:"MerchantInfo",setup(a){const s=R(),r=ae(),i=y(void 0),n=y(void 0);async function p(){const b=i.value,c=n.value,_=window.btoa(`${b}:${c}`);console.log("submitCCToken()");const f={payment_method:"token",amount:s.totalBillable};r.setIsLoading(!0);const x=await fetch("https://api.na.bambora.com/v1/payments",{method:"POST",cache:"no-cache",headers:{Authorization:`Passcode ${_}`,"Content-Type":"application/json"},body:JSON.stringify(f)}),g=await x.json();x.status===200?(s.setCheckoutHasError(!1),s.setCheckoutPaymentResponse(g)):(s.setCheckoutHasError(!0),s.setCheckoutPaymentResponse(g)),r.setIsLoading(!1),s.toggleCheckoutModal()}return(b,c)=>{const _=qo;return u(),h(S,null,[e("div",Jo,[e("h3",Ko,[v("Merchant Information "),l(_)])]),e("div",Wo,[e("div",Go,[Qo,e("div",Yo,[e("input",{type:"text",id:"cc-token",value:t(s).tokenizedCard,disabled:"",class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm leading-6"},null,8,Xo)])]),e("div",Zo,[ea,e("div",ta,[F(e("input",{type:"text",id:"merchant-id","onUpdate:modelValue":c[0]||(c[0]=f=>D(i)?i.value=f:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm leading-6"},null,512),[[L,t(i)]])])]),e("div",sa,[oa,e("div",aa,[F(e("input",{type:"text",id:"merchant-passcode","onUpdate:modelValue":c[1]||(c[1]=f=>D(n)?n.value=f:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm leading-6"},null,512),[[L,t(n)]])])]),e("div",na,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",disabled:!t(s).tokenizedCard,onClick:p}," Complete Purchase ",8,la)])])],64)}}}),ia={class:"bg-white px-4 pb-4 pt-5"},ca={class:"flex items-start justify-center items-center"},da={key:0,class:"text-red-500 whitespace-pre col-span-6 p-4 mt-8"},ua={key:1,class:"text-green-500 whitespace-pre col-span-6 p-4 mt-8"},ma=B({__name:"MerchantResponseTabSummary",setup(a){const s=R(),{checkoutShowModal:r,checkoutHasError:i}=Q(s);return(n,p)=>(u(),h("div",ia,[e("div",ca,[e("div",{class:q(["flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full",t(i)?"bg-red-100 text-red-500":"bg-green-100 text-green-500"])},[t(i)?(u(),E(t(Y),{key:0,class:"h-6 w-6"})):(u(),E(t(Fs),{key:1,class:"h-6 w-6"}))],2),e("div",null,[l(t(O),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:d(()=>[t(i)?(u(),h("span",da,"Purchase Failed!")):(u(),h("span",ua,"Purchase Completed!"))]),_:1})])])]))}}),fa={class:"sm:flex items-start"},pa={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},ha={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},_a={class:"whitespace-pre bg-gray-200 p-4 rounded-md"},ga=B({__name:"MerchantResponseTabInfo",setup(a){const s=R(),{checkoutHasError:r,checkoutPaymentResponse:i}=Q(s);return(n,p)=>(u(),h("div",fa,[e("div",pa,[l(t(Us),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",ha,[l(t(O),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 mb-2"},{default:d(()=>[v("API response dump")]),_:1}),e("div",_a,w(t(i)),1)])]))}}),ba=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ya={class:"fixed inset-0 z-10 overflow-y-auto"},va={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},xa={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},wa={class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},ka=B({__name:"MerchantResponseModal",setup(a){const s=y(!1),r=R(),{checkoutShowModal:i}=Q(r),n={Summary:{Content:ma},Info:{Content:ga}};return(p,b)=>(u(),E(t(G),{as:"template",show:t(i)},{default:d(()=>[l(t(K),{as:"div",class:"relative z-10",onClose:b[1]||(b[1]=c=>s.value=!1)},{default:d(()=>[l(t(T),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:d(()=>[ba]),_:1}),e("div",ya,[e("div",va,[l(t(T),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 translate-y-0 scale-95","enter-to":"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 scale-100","leave-to":"opacity-0 translate-y-4 translate-y-0 scale-95"},{default:d(()=>[l(t(W),{class:"relative transform overflow-scroll rounded-lg bg-white text-left shadow-xl transition-all my-8 max-w-5xl"},{default:d(()=>[l(t(ks),null,{default:d(()=>[l(t(Cs),{class:"flex space-x-1 bg-gray-100 p-1"},{default:d(()=>[(u(!0),h(S,null,z(Object.keys(n),c=>(u(),E(t($s),{as:"template",key:c},{default:d(({selected:_})=>[e("button",{class:q(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white",_?"bg-white shadow":"text-blue-100"])},w(c),3)]),_:2},1024))),128))]),_:1}),l(t(Ss),{class:"mt-2"},{default:d(()=>[(u(!0),h(S,null,z(Object.values(n),(c,_)=>(u(),E(t(Es),{key:_,class:"p-3"},{default:d(()=>[e("div",xa,[(u(),E(oe(c.Content)))])]),_:2},1024))),128))]),_:1})]),_:1}),e("div",wa,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:b[0]||(b[0]=(...c)=>t(r).toggleCheckoutModal&&t(r).toggleCheckoutModal(...c))},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Ca={class:"grid grid-cols-1 lg:grid-cols-3 pt-4"},$a={class:"flex justify-center lg:col-span-1 mb-10"},Sa={class:"w-96"},Ea=e("div",{class:"flex justify-between border-b p-2 font-medium bg-gray-100 items-center"},[e("div",{class:"w-1/3"},"Product Name"),e("div",{class:"w-1/3 text-center"},"Quantity"),e("div",{class:"w-1/3"},"Sub total")],-1),Ma={class:"w-1/3"},Ia={class:"w-1/3 text-center"},Ta={class:"w-1/3"},Ba={class:"flex justify-between border-b p-2 font-normal bg-gray-100"},Ra=e("div",{class:"w-2/3"},"Total",-1),Pa={class:"w-1/3"},ja={class:"w-full lg:col-span-2 lg:row-start-1 flex justify-center"},Na={class:"w-96"},za=e("hr",{class:"my-10"},null,-1),Aa=B({__name:"checkout",setup(a){const s=R();return J(()=>{s.setCheckoutHasError(!1),s.setCheckoutShowModal(!1),s.setCheckoutPaymentResponse(void 0),s.setTokenizedCard(void 0)}),(r,i)=>{const n=ie,p=re,b=ka,c=zo,_=ra;return u(),h(S,null,[l(p,null,{default:d(()=>[l(n,null,{default:d(()=>[v("Cart - Bambora Demo Shop")]),_:1})]),_:1}),l(b),e("div",Ca,[e("div",$a,[e("div",Sa,[Ea,(u(!0),h(S,null,z(t(s).items,f=>(u(),h("div",{class:"flex justify-between border-b p-2 font-normal",key:f.productId},[e("div",Ma,w(f.productName),1),e("div",Ia,w(f.quantity),1),e("div",Ta,"$"+w(f.subTotal.toFixed(2).toLocaleString()),1)]))),128)),e("div",Ba,[Ra,e("div",Pa,"$"+w(t(s).totalBillable),1)])])]),e("div",ja,[e("div",Na,[l(c),za,l(_)])])])],64)}}});export{Aa as default};
