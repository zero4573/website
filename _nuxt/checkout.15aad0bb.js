import{H as re,T as ce}from"./components.9543488f.js";import{B as ie,C as de,E as ue,F as T,K as me,R as pe,S as fe,a as he,T as _e,b as ve,e as ge,f as be,V as ye,h as xe,i as we,j as ke,k as Ce,l as $e,m as Se,p as Me,q as Ee,r as Ie,c as R,s as P,t as f,v as e,w as Te,x as Be,y as Re,z as Pe,A as Ne,D as je,G as $,H as l,I as ze,d as Oe,J as j,L as Ve,M as Ae,N as He,O as De,P as Fe,Q as Ue,U as qe,W as Le,X as L,Y as Je,Z as Ke,g as We,$ as Ge,a0 as Qe,a1 as Ye,a2 as Xe,a3 as Ze,a4 as et,a5 as tt,a6 as st,a7 as at,a8 as ot,a9 as O,aa as nt,ab as lt,ac as rt,ad as ct,ae as it,af as dt,ag as te,ah as J,n as ut,ai as mt,aj as pt,ak as ft,al as ht,am as _t,an as vt,ao as gt,ap as se,aq as bt,ar as yt,as as xt,at as wt,au as K,av as kt,o as d,aw as Ct,ax as $t,ay as St,az as Mt,aA as Et,aB as It,aC as Tt,aD as y,aE as Bt,aF as Rt,aG as V,aH as Pt,aI as Nt,aJ as jt,aK as ae,aL as zt,aM as Ot,aN as Vt,aO as At,aP as Ht,aQ as Dt,aR as Ft,aS as Ut,aT as qt,aU as Lt,aV as Jt,aW as S,aX as Kt,aY as Wt,aZ as Gt,a_ as Qt,a$ as Yt,b0 as Xt,b1 as Zt,u as t,b2 as es,b3 as ts,b4 as ss,b5 as as,b6 as os,b7 as ns,b8 as ls,b9 as rs,ba as cs,bb as is,bc as A,bd as ds,be as us,bf as ms,bg as ps,bh as fs,bi as hs,bj as _s,bk as vs,bl as i,bm as gs,bn as H,bo as bs,bp as ys,bq as xs,br as ws,bs as W,bt as N,bu as G,bv as D,bw as Q,bx as z,by as oe,bz as B,bA as ks,bB as Cs,bC as $s,bD as Ss,bE as Ms}from"./entry.1f6a0df0.js";const Es=()=>{},Is=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ie,Comment:de,EffectScope:ue,Fragment:T,KeepAlive:me,ReactiveEffect:pe,Static:fe,Suspense:he,Teleport:_e,Text:ve,Transition:ge,TransitionGroup:be,VueElement:ye,assertNumber:xe,callWithAsyncErrorHandling:we,callWithErrorHandling:ke,camelize:Ce,capitalize:$e,cloneVNode:Se,compatUtils:Me,compile:Es,computed:Ee,createApp:Ie,createBlock:R,createCommentVNode:P,createElementBlock:f,createElementVNode:e,createHydrationRenderer:Te,createPropsRestProxy:Be,createRenderer:Re,createSSRApp:Pe,createSlots:Ne,createStaticVNode:je,createTextVNode:$,createVNode:l,customRef:ze,defineAsyncComponent:Oe,defineComponent:j,defineCustomElement:Ve,defineEmits:Ae,defineExpose:He,defineProps:De,defineSSRCustomElement:Fe,get devtools(){return Ue},effect:qe,effectScope:Le,getCurrentInstance:L,getCurrentScope:Je,getTransitionRawChildren:Ke,guardReactiveProps:We,h:Ge,handleError:Qe,hydrate:Ye,initCustomFormatter:Xe,initDirectivesForSSR:Ze,inject:et,isMemoSame:tt,isProxy:st,isReactive:at,isReadonly:ot,isRef:O,isRuntimeOnly:nt,isShallow:lt,isVNode:rt,markRaw:ct,mergeDefaults:it,mergeProps:dt,nextTick:te,normalizeClass:J,normalizeProps:ut,normalizeStyle:mt,onActivated:pt,onBeforeMount:ft,onBeforeUnmount:ht,onBeforeUpdate:_t,onDeactivated:vt,onErrorCaptured:gt,onMounted:se,onRenderTracked:bt,onRenderTriggered:yt,onScopeDispose:xt,onServerPrefetch:wt,onUnmounted:K,onUpdated:kt,openBlock:d,popScopeId:Ct,provide:$t,proxyRefs:St,pushScopeId:Mt,queuePostFlushCb:Et,reactive:It,readonly:Tt,ref:y,registerRuntimeCompiler:Bt,render:Rt,renderList:V,renderSlot:Pt,resolveComponent:Nt,resolveDirective:jt,resolveDynamicComponent:ae,resolveFilter:zt,resolveTransitionHooks:Ot,setBlockTracking:Vt,setDevtoolsHook:At,setTransitionHooks:Ht,shallowReactive:Dt,shallowReadonly:Ft,shallowRef:Ut,ssrContextKey:qt,ssrUtils:Lt,stop:Jt,toDisplayString:S,toHandlerKey:Kt,toHandlers:Wt,toRaw:Gt,toRef:Qt,toRefs:Yt,transformVNodeArgs:Xt,triggerRef:Zt,unref:t,useAttrs:es,useCssModule:ts,useCssVars:ss,useSSRContext:as,useSlots:os,useTransitionState:ns,vModelCheckbox:ls,vModelDynamic:rs,vModelRadio:cs,vModelSelect:is,vModelText:A,vShow:ds,version:us,warn:ms,watch:ps,watchEffect:fs,watchPostEffect:hs,watchSyncEffect:_s,withAsyncContext:vs,withCtx:i,withDefaults:gs,withDirectives:H,withKeys:bs,withMemo:ys,withModifiers:xs,withScopeId:ws},Symbol.toStringTag,{value:"Module"}));function Ts(o){if(o.__esModule)return o;var a=o.default;if(typeof a=="function"){var r=function c(){if(this instanceof c){var n=[null];n.push.apply(n,arguments);var h=Function.bind.apply(a,n);return new h}return a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(o).forEach(function(c){var n=Object.getOwnPropertyDescriptor(o,c);Object.defineProperty(r,c,n.get?n:{enumerable:!0,get:function(){return o[c]}})}),r}const F=Ts(Is),{createElementVNode:Bs,openBlock:Rs,createElementBlock:Ps}=F;var Ns=function(a,r){return Rs(),Ps("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Bs("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])};const{createElementVNode:js,openBlock:zs,createElementBlock:Os}=F;var Vs=function(a,r){return zs(),Os("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[js("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])};const{createElementVNode:As,openBlock:Hs,createElementBlock:Ds}=F;var Fs=function(a,r){return Hs(),Ds("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[As("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])},Us=Ns,Y=Vs,qs=Fs;const{createElementVNode:Ls,openBlock:Js,createElementBlock:Ks}=F;var Ws=function(a,r){return Js(),Ks("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[Ls("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})])},ne=Ws;const Gs=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Qs={class:"fixed inset-0 z-10 overflow-y-auto"},Ys={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Xs={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Zs={class:"sm:flex sm:items-start"},ea={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},ta={class:"mt-3 sm:ml-4 sm:mt-0 text-left"},sa=e("div",{class:"mt-2"},[e("p",{class:"mb-2"},[$(" This checkout page uses the "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/guides/custom_checkout/"},"Bambora's Custom Checkout library"),$(" to customize the checkout form. ")]),e("p",{class:"mb-2"},"To continue, you can use the test card:"),e("ul",{class:"list-disc ml-8 my-2"},[e("li",null,"card #: 4030 0000 1000 1234"),e("li",null,"code: 123"),e("li",null,[$("expiry: 12/99 "),e("span",{class:"text-gray-400"},"(any date in the future)")])]),e("p",{class:"my-2"},[$("For a more comprehensive list of test cards, "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/references/payment_APIs/test_cards/"},"see the Bambora test cards page")])],-1),aa={__name:"CCInfoModal",setup(o){const a=y(!1);function r(){a.value=!a.value}return(c,n)=>(d(),f(T,null,[e("button",{class:"ml-1 rounded-full",onClick:r},[l(t(ne),{class:"h-6 w-6 text-blue-600"})]),l(t(Q),{as:"template",show:t(a)},{default:i(()=>[l(t(W),{as:"div",class:"relative z-10",onClose:n[0]||(n[0]=h=>a.value=!1)},{default:i(()=>[l(t(N),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[Gs]),_:1}),e("div",Qs,[e("div",Ys,[l(t(N),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[l(t(G),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:i(()=>[e("div",Xs,[e("div",Zs,[e("div",ea,[l(t(Y),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",ta,[l(t(D),{as:"h3",class:"text-base text-center sm:text-left font-semibold leading-6 text-gray-900"},{default:i(()=>[$("For demonstration purposes only")]),_:1}),sa])])]),e("div",{class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:r},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}};function oa({cardNumberElementId:o,isCardNumberComplete:a,cardNumberError:r,cvvElementId:c,isCVVComplete:n,cvvError:h,expiryElementId:_,isExpiryComplete:m,expiryError:v,tokenizedCard:x,tokenizationError:b,cardBrandSVG:g,isLoading:C}){const p={init:function(){console.log("checkout.init()"),this.customCheckout=customcheckout(),this.createInputs(),this.addListeners()},createInputs:function(){console.log("checkout.createInputs()");var s={};let w=o||"#card-number";this.customCheckout.create("card-number",s).mount(w);let k=c||"#card-cvv";this.customCheckout.create("cvv",s).mount(k);let E=_||"#card-expiry";this.customCheckout.create("expiry",s).mount(E)},addListeners:function(){this.customCheckout.on("brand",function(s){console.log("brand: "+JSON.stringify(s)),s.brand&&s.brand!=="unknown"?g.value=`https://cdn.na.bambora.com/downloads/images/cards/${s.brand}.svg`:g.value=void 0}),this.customCheckout.on("empty",function(s){console.log("empty: "+JSON.stringify(s)),s.empty&&(s.field==="card-number"?a.value=!1:s.field==="cvv"?n.value=!1:s.field==="expiry"&&(m.value=!1))}),this.customCheckout.on("complete",function(s){console.log("complete: "+JSON.stringify(s)),s.field==="card-number"?(r.value=void 0,a.value=!0):s.field==="cvv"?(h.value=void 0,n.value=!0):s.field==="expiry"&&(v.value=void 0,m.value=!0)}),this.customCheckout.on("error",function(s){console.log("error: "+JSON.stringify(s)),s.field==="card-number"?(r.value=s.message,a.value=!1):s.field==="cvv"?(h.value=s.message,n.value=!1):s.field==="expiry"&&(v.value=s.message,m.value=!1)})},onSubmit:function(){console.log("checkout.onSubmit()"),x.value=void 0,b.value=void 0,C.value=!0;var s=function(w){console.log("token result : "+JSON.stringify(w)),w.error?b.value=`Error creating token: ${JSON.stringify(w.error,null,4)}`:x.value=w.token,C.value=!1};console.log("checkout.createToken()"),this.customCheckout.createToken(s)}};return p.init(),p}function q(o){return typeof o=="function"?o():t(o)}const na=typeof window<"u",la=()=>{};function ra(o,a=!0){L()?se(o):a?o():te(o)}function ca(o){L()&&K(o)}const ia=na?window.document:void 0;function da(o,a=la,r={}){const{immediate:c=!0,manual:n=!1,type:h="text/javascript",async:_=!0,crossOrigin:m,referrerPolicy:v,noModule:x,defer:b,document:g=ia,attrs:C={}}=r,p=y(null);let s=null;const w=M=>new Promise((X,Z)=>{const U=I=>(p.value=I,X(I),I);if(!g){X(!1);return}let ee=!1,u=g.querySelector(`script[src="${q(o)}"]`);u?u.hasAttribute("data-loaded")&&U(u):(u=g.createElement("script"),u.type=h,u.async=_,u.src=q(o),b&&(u.defer=b),m&&(u.crossOrigin=m),x&&(u.noModule=x),v&&(u.referrerPolicy=v),Object.entries(C).forEach(([I,le])=>u==null?void 0:u.setAttribute(I,le)),ee=!0),u.addEventListener("error",I=>Z(I)),u.addEventListener("abort",I=>Z(I)),u.addEventListener("load",()=>{u.setAttribute("data-loaded","true"),a(u),U(u)}),ee&&(u=g.head.appendChild(u)),M||U(u)}),k=(M=!0)=>(s||(s=w(M)),s),E=()=>{if(!g)return;s=null,p.value&&(p.value=null);const M=g.querySelector(`script[src="${q(o)}"]`);M&&g.head.removeChild(M)};return c&&!n&&ra(k),n||ca(E),{scriptTag:p,load:k,unload:E}}const ua={class:"mb-4 items-center"},ma={class:"flex items-center text-base font-semibold leading-7 text-gray-900"},pa={class:"grid grid-cols-1 gap-x-6 gap-y-8 grid-cols-6"},fa={class:"col-span-6"},ha=e("label",{for:"fullname",class:"block text-sm font-medium leading-6 text-gray-900"},"Full Name",-1),_a={class:"mt-2"},va={class:"col-span-6"},ga=e("label",{for:"card-number",class:"block text-sm font-medium leading-6 text-gray-900"},"Card Number",-1),ba={class:"mt-2"},ya=e("div",{id:"card-number",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,-1),xa={key:0,class:"text-red-500 text-xs italic"},wa={class:"col-span-3"},ka=e("label",{for:"card-cvv",class:"block text-sm font-medium leading-6 text-gray-900"},"CVV",-1),Ca={class:"mt-2"},$a=e("div",{name:"card-cvv",id:"card-cvv",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,-1),Sa={key:0,class:"text-red-500 text-xs italic"},Ma={class:"col-span-3"},Ea=e("label",{for:"card-expiry",class:"block text-sm font-medium leading-6 text-gray-900"},"Expiry",-1),Ia={class:"mt-2"},Ta=e("div",{id:"card-expiry",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6 items-center"},null,-1),Ba={key:0,class:"text-red-500 text-xs italic"},Ra={key:0,class:"col-span-6"},Pa={class:"text-red-500 text-xs italic"},Na={class:"col-span-6"},ja=["disabled"],za={key:0,viewBox:"0 0 30 24",class:"mr-3 h-5 w-5"},Oa=["xlink:href"],Va={__name:"CCInputs",setup(o){const a=z(),r=oe(),{isLoading:c}=B(r),{cardHolderFullName:n,tokenizedCard:h}=B(a),_=y(void 0),m=y(!1),v=y(void 0),x=y(!1),b=y(void 0),g=y(!1),C=y(void 0),p=y(void 0),s=y(void 0);return da("https://libs.na.bambora.com/customcheckout/1/customcheckout.js",()=>{s.value=oa({isCardNumberComplete:m,cardNumberError:_,isCVVComplete:x,cvvError:v,isExpiryComplete:g,expiryError:b,tokenizedCard:h,tokenizationError:C,cardBrandSVG:p,isLoading:c})}),(w,k)=>{const E=aa;return d(),f("div",null,[e("div",ua,[e("h3",ma,[$("Credit Card Information "),l(E)])]),e("div",pa,[e("div",fa,[ha,e("div",_a,[H(e("input",{style:{outline:"none"},type:"text",id:"fullname","onUpdate:modelValue":k[0]||(k[0]=M=>O(n)?n.value=M:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,512),[[A,t(n)]])])]),e("div",va,[ga,e("div",ba,[ya,t(_)?(d(),f("p",xa,S(t(_)),1)):P("",!0)])]),e("div",wa,[ka,e("div",Ca,[$a,t(v)?(d(),f("p",Sa,S(t(v)),1)):P("",!0)])]),e("div",Ma,[Ea,e("div",Ia,[Ta,t(b)?(d(),f("p",Ba,S(t(b)),1)):P("",!0)])]),t(C)?(d(),f("div",Ra,[e("p",Pa,S(t(C)),1)])):P("",!0),e("div",Na,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",disabled:!t(s)||!t(m)||!t(x)||!t(g),onClick:k[1]||(k[1]=(...M)=>t(s).onSubmit&&t(s).onSubmit(...M))},[t(p)!==void 0?(d(),f("svg",za,[e("image",{"xlink:href":t(p),width:"30",height:"24"},null,8,Oa)])):P("",!0),$(" Pay ")],8,ja)])])])}}},Aa=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Ha={class:"fixed inset-0 z-10 overflow-y-auto"},Da={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Fa={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Ua={class:"sm:flex sm:items-start"},qa={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},La={class:"mt-3 sm:ml-4 sm:mt-0 text-left"},Ja=e("div",{class:"mt-2"},[e("p",{class:"mb-2"},[$(" The token retrieved in the previous section should be sent to a server, which will use the merchant id/passcode to complete the transaction using the "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/references/payment_APIs/"},"Bambora Payment API")]),e("p",{class:"mb-2"}," For the purposes of this demo, this section can be used to simulate the server-side request, on the client side. This should NOT be done in production as it will expose your merchant id/passcode. ")],-1),Ka={__name:"MerchantInfoModal",setup(o){const a=y(!1);function r(){a.value=!a.value}return(c,n)=>(d(),f(T,null,[e("button",{class:"ml-1 rounded-full",onClick:r},[l(t(ne),{class:"h-6 w-6 text-blue-600"})]),l(t(Q),{as:"template",show:t(a)},{default:i(()=>[l(t(W),{as:"div",class:"relative z-10",onClose:n[0]||(n[0]=h=>a.value=!1)},{default:i(()=>[l(t(N),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[Aa]),_:1}),e("div",Ha,[e("div",Da,[l(t(N),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[l(t(G),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:i(()=>[e("div",Fa,[e("div",Ua,[e("div",qa,[l(t(Y),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",La,[l(t(D),{as:"h3",class:"text-center sm:text-left text-base font-semibold leading-6 text-gray-900"},{default:i(()=>[$("Server side request")]),_:1}),Ja])])]),e("div",{class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:r},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},Wa={class:"mb-4 items-center"},Ga={class:"flex items-center text-base font-semibold leading-7 text-gray-900"},Qa={class:"grid grid-cols-1 gap-x-6 gap-y-8 grid-cols-6"},Ya={class:"col-span-6"},Xa=e("label",{for:"cc-token",class:"block text-sm font-medium leading-6 text-gray-900"},"CC Token",-1),Za={class:"mt-2"},eo=["value"],to={class:"col-span-6"},so=e("label",{for:"merchant-id",class:"block text-sm font-medium leading-6 text-gray-900"},"Merchant Id",-1),ao={class:"mt-2"},oo={class:"col-span-6"},no=e("label",{for:"merchant-passcode",class:"block text-sm font-medium leading-6 text-gray-900"},"Merchant Passcode",-1),lo={class:"mt-2"},ro={class:"col-span-6"},co=["disabled"],io=j({__name:"MerchantInfo",setup(o){const a=z(),r=oe(),{checkoutHasError:c,checkoutPaymentResponse:n,checkoutShowModal:h,tokenizedCard:_,cardHolderFullName:m}=B(a),{isLoading:v}=B(r),x=y(void 0),b=y(void 0);async function g(){v.value=!0;const C=x.value,p=b.value,s=window.btoa(`${C}:${p}`);console.log("submitCCToken()");const w={amount:a.totalBillable,payment_method:"token",token:{name:m.value,code:_.value,complete:!0}};console.log(`cardholder name: ${m.value}`),console.log(`tokenized card: ${_.value}`),console.log(`encoded passcode: ${s}`),fetch("https://api.na.bambora.com/v1/payments",{method:"POST",cache:"no-cache",headers:{Authorization:`Passcode ${s}`,"Content-Type":"application/json"},body:JSON.stringify(w)}).then(async k=>{const E=await k.json();k.status===200?(c.value=!1,n.value=E):(c.value=!0,n.value=E)}).catch(k=>{console.log(`failed to make payment request: ${k}`),c.value=!0,n.value=k}).finally(()=>{v.value=!1,h.value=!0})}return(C,p)=>{const s=Ka;return d(),f(T,null,[e("div",Wa,[e("h3",Ga,[$("Merchant Information "),l(s)])]),e("div",Qa,[e("div",Ya,[Xa,e("div",Za,[e("input",{style:{outline:"none"},type:"text",id:"cc-token",value:t(a).tokenizedCard,disabled:"",class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,8,eo)])]),e("div",to,[so,e("div",ao,[H(e("input",{style:{outline:"none"},type:"text",id:"merchant-id","onUpdate:modelValue":p[0]||(p[0]=w=>O(x)?x.value=w:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,512),[[A,t(x)]])])]),e("div",oo,[no,e("div",lo,[H(e("input",{style:{outline:"none"},type:"text",id:"merchant-passcode","onUpdate:modelValue":p[1]||(p[1]=w=>O(b)?b.value=w:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,512),[[A,t(b)]])])]),e("div",ro,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",disabled:!t(a).tokenizedCard,onClick:g}," Complete Purchase ",8,co)])])],64)}}}),uo={class:"bg-white px-4 pb-4 pt-5"},mo={class:"flex items-start justify-center items-center"},po={key:0,class:"text-red-500 whitespace-pre col-span-6 p-4 mt-8"},fo={key:1,class:"text-green-500 whitespace-pre col-span-6 p-4 mt-8"},ho=j({__name:"MerchantResponseTabSummary",setup(o){const a=z(),{checkoutShowModal:r,checkoutHasError:c}=B(a);return(n,h)=>(d(),f("div",uo,[e("div",mo,[e("div",{class:J(["flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full",t(c)?"bg-red-100 text-red-500":"bg-green-100 text-green-500"])},[t(c)?(d(),R(t(Y),{key:0,class:"h-6 w-6"})):(d(),R(t(Us),{key:1,class:"h-6 w-6"}))],2),e("div",null,[l(t(D),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:i(()=>[t(c)?(d(),f("span",po,"Purchase Failed!")):(d(),f("span",fo,"Purchase Completed!"))]),_:1})])])]))}}),_o={class:"sm:flex items-start"},vo={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},go={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},bo={class:"whitespace-pre bg-gray-200 p-4 rounded-md"},yo=j({__name:"MerchantResponseTabInfo",setup(o){const a=z(),{checkoutHasError:r,checkoutPaymentResponse:c}=B(a);return(n,h)=>(d(),f("div",_o,[e("div",vo,[l(t(qs),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",go,[l(t(D),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 mb-2"},{default:i(()=>[$("API response dump")]),_:1}),e("div",bo,S(t(c)),1)])]))}}),xo=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),wo={class:"fixed inset-0 z-10 overflow-y-auto"},ko={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Co={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},$o={class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},So=j({__name:"MerchantResponseModal",setup(o){const a=y(!1),r=z(),{checkoutShowModal:c}=B(r),n={Summary:{Content:ho},Info:{Content:yo}};return(h,_)=>(d(),R(t(Q),{as:"template",show:t(c)},{default:i(()=>[l(t(W),{as:"div",class:"relative z-10",onClose:_[1]||(_[1]=m=>a.value=!1)},{default:i(()=>[l(t(N),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[xo]),_:1}),e("div",wo,[e("div",ko,[l(t(N),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 translate-y-0 scale-95","enter-to":"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 scale-100","leave-to":"opacity-0 translate-y-4 translate-y-0 scale-95"},{default:i(()=>[l(t(G),{class:"relative transform overflow-scroll rounded-lg bg-white text-left shadow-xl transition-all my-8 max-w-5xl"},{default:i(()=>[l(t(ks),null,{default:i(()=>[l(t(Cs),{class:"flex space-x-1 bg-gray-100 p-1"},{default:i(()=>[(d(!0),f(T,null,V(Object.keys(n),m=>(d(),R(t($s),{as:"template",key:m},{default:i(({selected:v})=>[e("button",{class:J(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white",v?"bg-white shadow":"text-blue-100"])},S(m),3)]),_:2},1024))),128))]),_:1}),l(t(Ss),{class:"mt-2"},{default:i(()=>[(d(!0),f(T,null,V(Object.values(n),(m,v)=>(d(),R(t(Ms),{key:v,class:"p-3"},{default:i(()=>[e("div",Co,[(d(),R(ae(m.Content)))])]),_:2},1024))),128))]),_:1})]),_:1}),e("div",$o,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:_[0]||(_[0]=(...m)=>t(r).toggleCheckoutModal&&t(r).toggleCheckoutModal(...m))},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Mo={class:"grid grid-cols-1 lg:grid-cols-3 pt-4"},Eo={class:"flex justify-center lg:col-span-1 mb-10"},Io={class:"w-96"},To=e("div",{class:"flex justify-between border-b p-2 font-medium bg-gray-100 items-center"},[e("div",{class:"w-1/3"},"Product Name"),e("div",{class:"w-1/3 text-center"},"Quantity"),e("div",{class:"w-1/3"},"Sub total")],-1),Bo={class:"w-1/3"},Ro={class:"w-1/3 text-center"},Po={class:"w-1/3"},No={class:"flex justify-between border-b p-2 font-normal bg-gray-100"},jo=e("div",{class:"w-2/3"},"Total",-1),zo={class:"w-1/3"},Oo={class:"w-full lg:col-span-2 lg:row-start-1 flex justify-center"},Vo={class:"w-96"},Ao=e("hr",{class:"my-10"},null,-1),Fo=j({__name:"checkout",setup(o){const a=z(),{checkoutHasError:r,checkoutPaymentResponse:c,checkoutShowModal:n,cardHolderFullName:h,tokenizedCard:_}=B(a);return K(()=>{r.value=!1,n.value=!1,h.value=void 0,c.value=void 0,_.value=void 0}),(m,v)=>{const x=ce,b=re,g=So,C=Va,p=io;return d(),f(T,null,[l(b,null,{default:i(()=>[l(x,null,{default:i(()=>[$("Cart - Consultant Demo Shop")]),_:1})]),_:1}),l(g),e("div",Mo,[e("div",Eo,[e("div",Io,[To,(d(!0),f(T,null,V(t(a).items,s=>(d(),f("div",{class:"flex justify-between border-b p-2 font-normal",key:s.productId},[e("div",Bo,S(s.productName),1),e("div",Ro,S(s.quantity),1),e("div",Po,"$"+S(s.subTotal.toFixed(2).toLocaleString()),1)]))),128)),e("div",No,[jo,e("div",zo,"$"+S(t(a).totalBillable),1)])])]),e("div",Oo,[e("div",Vo,[l(C),Ao,l(p)])])])],64)}}});export{Fo as default};
