import{H as re,T as ce}from"./components.723f9c7b.js";import{B as ie,C as de,E as ue,F as B,K as me,R as pe,S as fe,a as he,T as _e,b as ve,e as ge,f as be,V as ye,h as xe,i as we,j as ke,k as Ce,l as $e,m as Se,p as Ee,q as Me,r as Ie,c as P,s as R,t as _,v as e,w as Te,x as Be,y as Ne,z as Re,A as Pe,D as je,G as k,H as n,I as ze,d as He,J as H,L as Oe,M as Ve,N as Ae,O as De,P as Fe,Q as Le,U as Ue,W as qe,X as W,Y as Je,Z as Ke,g as We,$ as Ge,a0 as Qe,a1 as Ye,a2 as Xe,a3 as Ze,a4 as et,a5 as tt,a6 as st,a7 as at,a8 as ot,a9 as D,aa as nt,ab as lt,ac as rt,ad as ct,ae as it,af as dt,ag as te,ah as G,n as ut,ai as mt,aj as pt,ak as ft,al as ht,am as _t,an as vt,ao as gt,ap as se,aq as bt,ar as yt,as as xt,at as wt,au as Q,av as kt,o as d,aw as Ct,ax as $t,ay as St,az as Et,aA as Mt,aB as It,aC as Tt,aD as v,aE as Bt,aF as Nt,aG as F,aH as Rt,aI as Pt,aJ as jt,aK as ae,aL as zt,aM as Ht,aN as Ot,aO as Vt,aP as At,aQ as Dt,aR as Ft,aS as Lt,aT as Ut,aU as qt,aV as Jt,aW as C,aX as Kt,aY as Wt,aZ as Gt,a_ as Qt,a$ as Yt,b0 as Xt,b1 as Zt,u as t,b2 as es,b3 as ts,b4 as ss,b5 as as,b6 as os,b7 as ns,b8 as ls,b9 as rs,ba as cs,bb as is,bc as L,bd as ds,be as us,bf as ms,bg as ps,bh as fs,bi as hs,bj as _s,bk as vs,bl as i,bm as gs,bn as U,bo as bs,bp as ys,bq as xs,br as ws,bs as Y,bt as z,bu as X,bv as q,bw as Z,bx as O,by as oe,bz as N,bA as ks,bB as Cs,bC as $s,bD as Ss,bE as Es}from"./entry.5749a516.js";const Ms=()=>{},Is=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ie,Comment:de,EffectScope:ue,Fragment:B,KeepAlive:me,ReactiveEffect:pe,Static:fe,Suspense:he,Teleport:_e,Text:ve,Transition:ge,TransitionGroup:be,VueElement:ye,assertNumber:xe,callWithAsyncErrorHandling:we,callWithErrorHandling:ke,camelize:Ce,capitalize:$e,cloneVNode:Se,compatUtils:Ee,compile:Ms,computed:Me,createApp:Ie,createBlock:P,createCommentVNode:R,createElementBlock:_,createElementVNode:e,createHydrationRenderer:Te,createPropsRestProxy:Be,createRenderer:Ne,createSSRApp:Re,createSlots:Pe,createStaticVNode:je,createTextVNode:k,createVNode:n,customRef:ze,defineAsyncComponent:He,defineComponent:H,defineCustomElement:Oe,defineEmits:Ve,defineExpose:Ae,defineProps:De,defineSSRCustomElement:Fe,get devtools(){return Le},effect:Ue,effectScope:qe,getCurrentInstance:W,getCurrentScope:Je,getTransitionRawChildren:Ke,guardReactiveProps:We,h:Ge,handleError:Qe,hydrate:Ye,initCustomFormatter:Xe,initDirectivesForSSR:Ze,inject:et,isMemoSame:tt,isProxy:st,isReactive:at,isReadonly:ot,isRef:D,isRuntimeOnly:nt,isShallow:lt,isVNode:rt,markRaw:ct,mergeDefaults:it,mergeProps:dt,nextTick:te,normalizeClass:G,normalizeProps:ut,normalizeStyle:mt,onActivated:pt,onBeforeMount:ft,onBeforeUnmount:ht,onBeforeUpdate:_t,onDeactivated:vt,onErrorCaptured:gt,onMounted:se,onRenderTracked:bt,onRenderTriggered:yt,onScopeDispose:xt,onServerPrefetch:wt,onUnmounted:Q,onUpdated:kt,openBlock:d,popScopeId:Ct,provide:$t,proxyRefs:St,pushScopeId:Et,queuePostFlushCb:Mt,reactive:It,readonly:Tt,ref:v,registerRuntimeCompiler:Bt,render:Nt,renderList:F,renderSlot:Rt,resolveComponent:Pt,resolveDirective:jt,resolveDynamicComponent:ae,resolveFilter:zt,resolveTransitionHooks:Ht,setBlockTracking:Ot,setDevtoolsHook:Vt,setTransitionHooks:At,shallowReactive:Dt,shallowReadonly:Ft,shallowRef:Lt,ssrContextKey:Ut,ssrUtils:qt,stop:Jt,toDisplayString:C,toHandlerKey:Kt,toHandlers:Wt,toRaw:Gt,toRef:Qt,toRefs:Yt,transformVNodeArgs:Xt,triggerRef:Zt,unref:t,useAttrs:es,useCssModule:ts,useCssVars:ss,useSSRContext:as,useSlots:os,useTransitionState:ns,vModelCheckbox:ls,vModelDynamic:rs,vModelRadio:cs,vModelSelect:is,vModelText:L,vShow:ds,version:us,warn:ms,watch:ps,watchEffect:fs,watchPostEffect:hs,watchSyncEffect:_s,withAsyncContext:vs,withCtx:i,withDefaults:gs,withDirectives:U,withKeys:bs,withMemo:ys,withModifiers:xs,withScopeId:ws},Symbol.toStringTag,{value:"Module"}));function Ts(o){if(o.__esModule)return o;var a=o.default;if(typeof a=="function"){var r=function c(){if(this instanceof c){var l=[null];l.push.apply(l,arguments);var m=Function.bind.apply(a,l);return new m}return a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(o).forEach(function(c){var l=Object.getOwnPropertyDescriptor(o,c);Object.defineProperty(r,c,l.get?l:{enumerable:!0,get:function(){return o[c]}})}),r}const J=Ts(Is),{createElementVNode:Bs,openBlock:Ns,createElementBlock:Rs}=J;var Ps=function(a,r){return Ns(),Rs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Bs("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])};const{createElementVNode:js,openBlock:zs,createElementBlock:Hs}=J;var Os=function(a,r){return zs(),Hs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[js("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])};const{createElementVNode:Vs,openBlock:As,createElementBlock:Ds}=J;var Fs=function(a,r){return As(),Ds("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Vs("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])},Ls=Ps,ee=Os,Us=Fs;const{createElementVNode:qs,openBlock:Js,createElementBlock:Ks}=J;var Ws=function(a,r){return Js(),Ks("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[qs("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})])},ne=Ws;const Gs=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Qs={class:"fixed inset-0 z-10 overflow-y-auto"},Ys={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Xs={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Zs={class:"sm:flex sm:items-start"},ea={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},ta={class:"mt-3 sm:ml-4 sm:mt-0 text-left"},sa=e("div",{class:"mt-2"},[e("p",{class:"mb-2"},[k(" This checkout page uses the "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/guides/custom_checkout/"},"Bambora's Custom Checkout library"),k(" to customize the checkout form. ")]),e("p",{class:"mb-2"},"To continue, you can use the test card:"),e("ul",{class:"list-disc ml-8 my-2"},[e("li",null,"card #: 4030 0000 1000 1234"),e("li",null,"code: 123"),e("li",null,[k("expiry: 12/99 "),e("span",{class:"text-gray-400"},"(any date in the future)")])]),e("p",{class:"my-2"},[k("For a more comprehensive list of test cards, "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/references/payment_APIs/test_cards/"},"see the Bambora test cards page")])],-1),aa={__name:"CCInfoModal",setup(o){const a=v(!1);function r(){a.value=!a.value}return(c,l)=>(d(),_(B,null,[e("button",{class:"ml-1 rounded-full",onClick:r},[n(t(ne),{class:"h-6 w-6 text-blue-600"})]),n(t(Z),{as:"template",show:t(a)},{default:i(()=>[n(t(Y),{as:"div",class:"relative z-10",onClose:l[0]||(l[0]=m=>a.value=!1)},{default:i(()=>[n(t(z),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[Gs]),_:1}),e("div",Qs,[e("div",Ys,[n(t(z),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[n(t(X),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:i(()=>[e("div",Xs,[e("div",Zs,[e("div",ea,[n(t(ee),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",ta,[n(t(q),{as:"h3",class:"text-base text-center sm:text-left font-semibold leading-6 text-gray-900"},{default:i(()=>[k("For demonstration purposes only")]),_:1}),sa])])]),e("div",{class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:r},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}};function oa({cardNumberElementId:o,isCardNumberComplete:a,cardNumberError:r,cvvElementId:c,isCVVComplete:l,cvvError:m,expiryElementId:g,isExpiryComplete:p,expiryError:b,cardBrandSVG:y}){const x={init:function(){console.log("checkout.init()"),this.customCheckout=customcheckout(),this.createInputs(),this.addListeners()},createInputs:function(){console.log("checkout.createInputs()");var s={};let $=o||"#card-number";this.customCheckout.create("card-number",s).mount($);let f=c||"#card-cvv";this.customCheckout.create("cvv",s).mount(f);let h=g||"#card-expiry";this.customCheckout.create("expiry",s).mount(h)},addListeners:function(){this.customCheckout.on("brand",function(s){console.log("brand: "+JSON.stringify(s)),s.brand&&s.brand!=="unknown"?y.value=`https://cdn.na.bambora.com/downloads/images/cards/${s.brand}.svg`:y.value=void 0}),this.customCheckout.on("empty",function(s){console.log("empty: "+JSON.stringify(s)),s.empty&&(s.field==="card-number"?a.value=!1:s.field==="cvv"?l.value=!1:s.field==="expiry"&&(p.value=!1))}),this.customCheckout.on("complete",function(s){console.log("complete: "+JSON.stringify(s)),s.field==="card-number"?(r.value=void 0,a.value=!0):s.field==="cvv"?(m.value=void 0,l.value=!0):s.field==="expiry"&&(b.value=void 0,p.value=!0)}),this.customCheckout.on("error",function(s){console.log("error: "+JSON.stringify(s)),s.field==="card-number"?(r.value=s.message,a.value=!1):s.field==="cvv"?(m.value=s.message,l.value=!1):s.field==="expiry"&&(b.value=s.message,p.value=!1)})},onSubmit:function(s){this.customCheckout.createToken(s)}};return x.init(),x}function K(o){return typeof o=="function"?o():t(o)}const na=typeof window<"u",la=()=>{};function ra(o,a=!0){W()?se(o):a?o():te(o)}function ca(o){W()&&Q(o)}const ia=na?window.document:void 0;function da(o,a=la,r={}){const{immediate:c=!0,manual:l=!1,type:m="text/javascript",async:g=!0,crossOrigin:p,referrerPolicy:b,noModule:y,defer:x,document:s=ia,attrs:$={}}=r,f=v(null);let h=null;const S=M=>new Promise((V,T)=>{const j=I=>(f.value=I,V(I),I);if(!s){V(!1);return}let A=!1,u=s.querySelector(`script[src="${K(o)}"]`);u?u.hasAttribute("data-loaded")&&j(u):(u=s.createElement("script"),u.type=m,u.async=g,u.src=K(o),x&&(u.defer=x),p&&(u.crossOrigin=p),y&&(u.noModule=y),b&&(u.referrerPolicy=b),Object.entries($).forEach(([I,le])=>u==null?void 0:u.setAttribute(I,le)),A=!0),u.addEventListener("error",I=>T(I)),u.addEventListener("abort",I=>T(I)),u.addEventListener("load",()=>{u.setAttribute("data-loaded","true"),a(u),j(u)}),A&&(u=s.head.appendChild(u)),M||j(u)}),w=(M=!0)=>(h||(h=S(M)),h),E=()=>{if(!s)return;h=null,f.value&&(f.value=null);const M=s.querySelector(`script[src="${K(o)}"]`);M&&s.head.removeChild(M)};return c&&!l&&ra(w),l||ca(E),{scriptTag:f,load:w,unload:E}}const ua={class:"mb-4 items-center"},ma={class:"flex items-center text-base font-semibold leading-7 text-gray-900"},pa={class:"grid grid-cols-1 gap-x-6 gap-y-8 grid-cols-6"},fa={class:"col-span-6"},ha=e("label",{for:"fullname",class:"block text-sm font-medium leading-6 text-gray-900"},"Full Name",-1),_a={class:"mt-2"},va={key:0,class:"text-red-500 text-xs italic"},ga={class:"col-span-6"},ba=e("label",{for:"card-number",class:"block text-sm font-medium leading-6 text-gray-900"},"Card Number",-1),ya={class:"mt-2"},xa=e("div",{id:"card-number",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,-1),wa={key:0,class:"text-red-500 text-xs italic"},ka={class:"col-span-3"},Ca=e("label",{for:"card-cvv",class:"block text-sm font-medium leading-6 text-gray-900"},"CVV",-1),$a={class:"mt-2"},Sa=e("div",{name:"card-cvv",id:"card-cvv",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,-1),Ea={key:0,class:"text-red-500 text-xs italic"},Ma={class:"col-span-3"},Ia=e("label",{for:"card-expiry",class:"block text-sm font-medium leading-6 text-gray-900"},"Expiry",-1),Ta={class:"mt-2"},Ba=e("div",{id:"card-expiry",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6 items-center"},null,-1),Na={key:0,class:"text-red-500 text-xs italic"},Ra={key:0,class:"col-span-6"},Pa={class:"text-red-500 text-xs italic"},ja={class:"col-span-6"},za=["disabled"],Ha={key:0,viewBox:"0 0 30 24",class:"mr-3 h-5 w-5"},Oa=["xlink:href"],Va={__name:"CCInputs",setup(o){const a="Name cannot be empty",r=O(),c=oe(),{isLoading:l}=N(c),{cardHolderFullName:m,tokenizedCard:g}=N(r),p=v(void 0),b=v(!1),y=v(void 0),x=v(!1),s=v(void 0),$=v(!1),f=v(void 0),h=v(void 0),S=v(void 0);da("https://libs.na.bambora.com/customcheckout/1/customcheckout.js",()=>{S.value=oa({isCardNumberComplete:b,cardNumberError:p,isCVVComplete:x,cvvError:y,isExpiryComplete:$,expiryError:s,cardBrandSVG:h})});const w=v(void 0),E=v(!1);function M(){m.value&&m.value!==""?(w.value=void 0,E.value=!0):(w.value=a,E.value=!1)}function V(){console.log("checkout.onSubmit()"),(!m.value||m.value==="")&&(E.value=!0,w.value=a),l.value=!0,g.value=void 0,f.value=void 0,S.value.onSubmit(T=>{console.log("token result : "+JSON.stringify(T)),T.error?f.value=`Error creating token: ${JSON.stringify(T.error,null,4)}`:g.value=T.token,console.log("checkout.createToken()"),l.value=!1})}return(T,j)=>{const A=aa;return d(),_("div",null,[e("div",ua,[e("h3",ma,[k("Credit Card Information "),n(A)])]),e("div",pa,[e("div",fa,[ha,e("div",_a,[U(e("input",{style:{outline:"none"},type:"text",id:"fullname","onUpdate:modelValue":j[0]||(j[0]=u=>D(m)?m.value=u:null),onBlur:M,onInput:M,class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,544),[[L,t(m)]]),t(w)?(d(),_("p",va,C(t(w)),1)):R("",!0)])]),e("div",ga,[ba,e("div",ya,[xa,t(p)?(d(),_("p",wa,C(t(p)),1)):R("",!0)])]),e("div",ka,[Ca,e("div",$a,[Sa,t(y)?(d(),_("p",Ea,C(t(y)),1)):R("",!0)])]),e("div",Ma,[Ia,e("div",Ta,[Ba,t(s)?(d(),_("p",Na,C(t(s)),1)):R("",!0)])]),t(f)?(d(),_("div",Ra,[e("p",Pa,C(t(f)),1)])):R("",!0),e("div",ja,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",disabled:!t(S)||!t(E)||!t(b)||!t(x)||!t($),onClick:V},[t(h)!==void 0?(d(),_("svg",Ha,[e("image",{"xlink:href":t(h),width:"30",height:"24"},null,8,Oa)])):R("",!0),k(" Pay ")],8,za)])])])}}},Aa=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Da={class:"fixed inset-0 z-10 overflow-y-auto"},Fa={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},La={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Ua={class:"sm:flex sm:items-start"},qa={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},Ja={class:"mt-3 sm:ml-4 sm:mt-0 text-left"},Ka=e("div",{class:"mt-2"},[e("p",{class:"mb-2"},[k(" The token retrieved in the previous section should be sent to a server, which will use the merchant id/passcode to complete the transaction using the "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/references/payment_APIs/"},"Bambora Payment API")]),e("p",{class:"mb-2"}," For the purposes of this demo, this section can be used to simulate the server-side request, on the client side. This should NOT be done in production as it will expose your merchant id/passcode. ")],-1),Wa={__name:"MerchantInfoModal",setup(o){const a=v(!1);function r(){a.value=!a.value}return(c,l)=>(d(),_(B,null,[e("button",{class:"ml-1 rounded-full",onClick:r},[n(t(ne),{class:"h-6 w-6 text-blue-600"})]),n(t(Z),{as:"template",show:t(a)},{default:i(()=>[n(t(Y),{as:"div",class:"relative z-10",onClose:l[0]||(l[0]=m=>a.value=!1)},{default:i(()=>[n(t(z),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[Aa]),_:1}),e("div",Da,[e("div",Fa,[n(t(z),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[n(t(X),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:i(()=>[e("div",La,[e("div",Ua,[e("div",qa,[n(t(ee),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",Ja,[n(t(q),{as:"h3",class:"text-center sm:text-left text-base font-semibold leading-6 text-gray-900"},{default:i(()=>[k("Server side request")]),_:1}),Ka])])]),e("div",{class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:r},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},Ga={class:"mb-4 items-center"},Qa={class:"flex items-center text-base font-semibold leading-7 text-gray-900"},Ya={class:"grid grid-cols-1 gap-x-6 gap-y-8 grid-cols-6"},Xa={class:"col-span-6"},Za=e("label",{for:"cc-token",class:"block text-sm font-medium leading-6 text-gray-900"},"CC Token",-1),eo={class:"mt-2"},to=["value"],so={class:"col-span-6"},ao=e("label",{for:"merchant-id",class:"block text-sm font-medium leading-6 text-gray-900"},"Merchant Id",-1),oo={class:"mt-2"},no={class:"col-span-6"},lo=e("label",{for:"merchant-passcode",class:"block text-sm font-medium leading-6 text-gray-900"},"Merchant Passcode",-1),ro={class:"mt-2"},co={class:"col-span-6"},io=["disabled"],uo=H({__name:"MerchantInfo",setup(o){const a=O(),r=oe(),{checkoutHasError:c,checkoutPaymentResponse:l,checkoutShowModal:m,tokenizedCard:g,cardHolderFullName:p}=N(a),{isLoading:b}=N(r),y=v(void 0),x=v(void 0);async function s(){b.value=!0;const $=y.value,f=x.value,h=window.btoa(`${$}:${f}`);console.log("submitCCToken()");const S={amount:a.totalBillable,payment_method:"token",token:{name:p.value,code:g.value,complete:!0}};console.log(`cardholder name: ${p.value}`),console.log(`tokenized card: ${g.value}`),console.log(`encoded passcode: ${h}`),fetch("https://api.na.bambora.com/v1/payments",{method:"POST",cache:"no-cache",headers:{Authorization:`Passcode ${h}`,"Content-Type":"application/json"},body:JSON.stringify(S)}).then(async w=>{const E=await w.json();w.status===200?(c.value=!1,l.value=E):(c.value=!0,l.value=E)}).catch(w=>{console.log(`failed to make payment request: ${w}`),c.value=!0,l.value=w}).finally(()=>{b.value=!1,m.value=!0})}return($,f)=>{const h=Wa;return d(),_(B,null,[e("div",Ga,[e("h3",Qa,[k("Merchant Information "),n(h)])]),e("div",Ya,[e("div",Xa,[Za,e("div",eo,[e("input",{style:{outline:"none"},type:"text",id:"cc-token",value:t(a).tokenizedCard,disabled:"",class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,8,to)])]),e("div",so,[ao,e("div",oo,[U(e("input",{style:{outline:"none"},type:"text",id:"merchant-id","onUpdate:modelValue":f[0]||(f[0]=S=>D(y)?y.value=S:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,512),[[L,t(y)]])])]),e("div",no,[lo,e("div",ro,[U(e("input",{style:{outline:"none"},type:"text",id:"merchant-passcode","onUpdate:modelValue":f[1]||(f[1]=S=>D(x)?x.value=S:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,512),[[L,t(x)]])])]),e("div",co,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",disabled:!t(a).tokenizedCard,onClick:s}," Complete Purchase ",8,io)])])],64)}}}),mo={class:"bg-white px-4 pb-4 pt-5"},po={class:"flex items-start justify-center items-center"},fo={key:0,class:"text-red-500 whitespace-pre col-span-6 p-4 mt-8"},ho={key:1,class:"text-green-500 whitespace-pre col-span-6 p-4 mt-8"},_o=H({__name:"MerchantResponseTabSummary",setup(o){const a=O(),{checkoutShowModal:r,checkoutHasError:c}=N(a);return(l,m)=>(d(),_("div",mo,[e("div",po,[e("div",{class:G(["flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full",t(c)?"bg-red-100 text-red-500":"bg-green-100 text-green-500"])},[t(c)?(d(),P(t(ee),{key:0,class:"h-6 w-6"})):(d(),P(t(Ls),{key:1,class:"h-6 w-6"}))],2),e("div",null,[n(t(q),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:i(()=>[t(c)?(d(),_("span",fo,"Purchase Failed!")):(d(),_("span",ho,"Purchase Completed!"))]),_:1})])])]))}}),vo={class:"sm:flex items-start"},go={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},bo={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},yo={class:"whitespace-pre bg-gray-200 p-4 rounded-md"},xo=H({__name:"MerchantResponseTabInfo",setup(o){const a=O(),{checkoutHasError:r,checkoutPaymentResponse:c}=N(a);return(l,m)=>(d(),_("div",vo,[e("div",go,[n(t(Us),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",bo,[n(t(q),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 mb-2"},{default:i(()=>[k("API response dump")]),_:1}),e("div",yo,C(t(c)),1)])]))}}),wo=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ko={class:"fixed inset-0 z-10 overflow-y-auto"},Co={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},$o={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},So={class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},Eo=H({__name:"MerchantResponseModal",setup(o){const a=v(!1),r=O(),{checkoutShowModal:c}=N(r),l={Summary:{Content:_o},Info:{Content:xo}};return(m,g)=>(d(),P(t(Z),{as:"template",show:t(c)},{default:i(()=>[n(t(Y),{as:"div",class:"relative z-10",onClose:g[1]||(g[1]=p=>a.value=!1)},{default:i(()=>[n(t(z),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[wo]),_:1}),e("div",ko,[e("div",Co,[n(t(z),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 translate-y-0 scale-95","enter-to":"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 scale-100","leave-to":"opacity-0 translate-y-4 translate-y-0 scale-95"},{default:i(()=>[n(t(X),{class:"relative transform overflow-scroll rounded-lg bg-white text-left shadow-xl transition-all my-8 max-w-5xl"},{default:i(()=>[n(t(ks),null,{default:i(()=>[n(t(Cs),{class:"flex space-x-1 bg-gray-100 p-1"},{default:i(()=>[(d(!0),_(B,null,F(Object.keys(l),p=>(d(),P(t($s),{as:"template",key:p},{default:i(({selected:b})=>[e("button",{class:G(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white",b?"bg-white shadow":"text-blue-100"])},C(p),3)]),_:2},1024))),128))]),_:1}),n(t(Ss),{class:"mt-2"},{default:i(()=>[(d(!0),_(B,null,F(Object.values(l),(p,b)=>(d(),P(t(Es),{key:b,class:"p-3"},{default:i(()=>[e("div",$o,[(d(),P(ae(p.Content)))])]),_:2},1024))),128))]),_:1})]),_:1}),e("div",So,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:g[0]||(g[0]=(...p)=>t(r).toggleCheckoutModal&&t(r).toggleCheckoutModal(...p))},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Mo={class:"grid grid-cols-1 lg:grid-cols-3 pt-4"},Io={class:"flex justify-center lg:col-span-1 mb-10"},To={class:"w-96"},Bo=e("div",{class:"flex justify-between border-b p-2 font-medium bg-gray-100 items-center"},[e("div",{class:"w-1/3"},"Product"),e("div",{class:"w-1/3 text-center"},"Quantity"),e("div",{class:"w-1/3"},"Sub total")],-1),No={class:"w-1/3"},Ro={class:"w-1/3 text-center"},Po={class:"w-1/3"},jo={class:"flex justify-between border-b p-2 font-normal bg-gray-100"},zo=e("div",{class:"w-2/3"},"Total",-1),Ho={class:"w-1/3"},Oo={class:"w-full lg:col-span-2 lg:row-start-1 flex justify-center"},Vo={class:"w-96"},Ao=e("hr",{class:"my-10"},null,-1),Lo=H({__name:"checkout",setup(o){const a=O(),{checkoutHasError:r,checkoutPaymentResponse:c,checkoutShowModal:l,cardHolderFullName:m,tokenizedCard:g}=N(a);return Q(()=>{r.value=!1,l.value=!1,m.value=void 0,c.value=void 0,g.value=void 0}),(p,b)=>{const y=ce,x=re,s=Eo,$=Va,f=uo;return d(),_(B,null,[n(x,null,{default:i(()=>[n(y,null,{default:i(()=>[k("Cart - Consultant Demo Shop")]),_:1})]),_:1}),n(s),e("div",Mo,[e("div",Io,[e("div",To,[Bo,(d(!0),_(B,null,F(t(a).items,h=>(d(),_("div",{class:"flex justify-between border-b p-2 font-normal",key:h.productId},[e("div",No,C(h.productName),1),e("div",Ro,C(h.quantity),1),e("div",Po,"$"+C(h.subTotal.toFixed(2).toLocaleString()),1)]))),128)),e("div",jo,[zo,e("div",Ho,"$"+C(t(a).totalBillable),1)])])]),e("div",Oo,[e("div",Vo,[n($),Ao,n(f)])])])],64)}}});export{Lo as default};
