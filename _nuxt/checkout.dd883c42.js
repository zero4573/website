import{H as re,T as ce}from"./components.e416baa0.js";import{B as ie,C as de,E as ue,F as M,K as me,R as pe,S as fe,a as he,T as _e,b as ge,e as be,f as ye,V as ve,h as xe,i as we,j as ke,k as Ce,l as $e,m as Se,p as Ee,q as Me,r as Ie,c as I,s as B,t as g,v as e,w as Te,x as Be,y as Re,z as Pe,A as Ne,D as je,G as x,H as n,I as ze,d as Oe,J as P,L as Ve,M as He,N as Ae,O as De,P as Fe,Q as Le,U as Ue,W as qe,X as q,Y as Je,Z as Ke,g as We,$ as Ge,a0 as Qe,a1 as Ye,a2 as Xe,a3 as Ze,a4 as et,a5 as tt,a6 as st,a7 as ot,a8 as at,a9 as O,aa as nt,ab as lt,ac as rt,ad as ct,ae as it,af as dt,ag as te,ah as J,n as ut,ai as mt,aj as pt,ak as ft,al as ht,am as _t,an as gt,ao as bt,ap as se,aq as yt,ar as vt,as as xt,at as wt,au as K,av as kt,o as d,aw as Ct,ax as $t,ay as St,az as Et,aA as Mt,aB as It,aC as Tt,aD as y,aE as Bt,aF as Rt,aG as V,aH as Pt,aI as Nt,aJ as jt,aK as oe,aL as zt,aM as Ot,aN as Vt,aO as Ht,aP as At,aQ as Dt,aR as Ft,aS as Lt,aT as Ut,aU as qt,aV as Jt,aW as C,aX as Kt,aY as Wt,aZ as Gt,a_ as Qt,a$ as Yt,b0 as Xt,b1 as Zt,u as t,b2 as es,b3 as ts,b4 as ss,b5 as os,b6 as as,b7 as ns,b8 as ls,b9 as rs,ba as cs,bb as is,bc as H,bd as ds,be as us,bf as ms,bg as ps,bh as fs,bi as hs,bj as _s,bk as gs,bl as i,bm as bs,bn as A,bo as ys,bp as vs,bq as xs,br as ws,bs as W,bt as R,bu as G,bv as D,bw as Q,bx as N,by as ae,bz as j,bA as ks,bB as Cs,bC as $s,bD as Ss,bE as Es}from"./entry.1260716e.js";const Ms=()=>{},Is=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ie,Comment:de,EffectScope:ue,Fragment:M,KeepAlive:me,ReactiveEffect:pe,Static:fe,Suspense:he,Teleport:_e,Text:ge,Transition:be,TransitionGroup:ye,VueElement:ve,assertNumber:xe,callWithAsyncErrorHandling:we,callWithErrorHandling:ke,camelize:Ce,capitalize:$e,cloneVNode:Se,compatUtils:Ee,compile:Ms,computed:Me,createApp:Ie,createBlock:I,createCommentVNode:B,createElementBlock:g,createElementVNode:e,createHydrationRenderer:Te,createPropsRestProxy:Be,createRenderer:Re,createSSRApp:Pe,createSlots:Ne,createStaticVNode:je,createTextVNode:x,createVNode:n,customRef:ze,defineAsyncComponent:Oe,defineComponent:P,defineCustomElement:Ve,defineEmits:He,defineExpose:Ae,defineProps:De,defineSSRCustomElement:Fe,get devtools(){return Le},effect:Ue,effectScope:qe,getCurrentInstance:q,getCurrentScope:Je,getTransitionRawChildren:Ke,guardReactiveProps:We,h:Ge,handleError:Qe,hydrate:Ye,initCustomFormatter:Xe,initDirectivesForSSR:Ze,inject:et,isMemoSame:tt,isProxy:st,isReactive:ot,isReadonly:at,isRef:O,isRuntimeOnly:nt,isShallow:lt,isVNode:rt,markRaw:ct,mergeDefaults:it,mergeProps:dt,nextTick:te,normalizeClass:J,normalizeProps:ut,normalizeStyle:mt,onActivated:pt,onBeforeMount:ft,onBeforeUnmount:ht,onBeforeUpdate:_t,onDeactivated:gt,onErrorCaptured:bt,onMounted:se,onRenderTracked:yt,onRenderTriggered:vt,onScopeDispose:xt,onServerPrefetch:wt,onUnmounted:K,onUpdated:kt,openBlock:d,popScopeId:Ct,provide:$t,proxyRefs:St,pushScopeId:Et,queuePostFlushCb:Mt,reactive:It,readonly:Tt,ref:y,registerRuntimeCompiler:Bt,render:Rt,renderList:V,renderSlot:Pt,resolveComponent:Nt,resolveDirective:jt,resolveDynamicComponent:oe,resolveFilter:zt,resolveTransitionHooks:Ot,setBlockTracking:Vt,setDevtoolsHook:Ht,setTransitionHooks:At,shallowReactive:Dt,shallowReadonly:Ft,shallowRef:Lt,ssrContextKey:Ut,ssrUtils:qt,stop:Jt,toDisplayString:C,toHandlerKey:Kt,toHandlers:Wt,toRaw:Gt,toRef:Qt,toRefs:Yt,transformVNodeArgs:Xt,triggerRef:Zt,unref:t,useAttrs:es,useCssModule:ts,useCssVars:ss,useSSRContext:os,useSlots:as,useTransitionState:ns,vModelCheckbox:ls,vModelDynamic:rs,vModelRadio:cs,vModelSelect:is,vModelText:H,vShow:ds,version:us,warn:ms,watch:ps,watchEffect:fs,watchPostEffect:hs,watchSyncEffect:_s,withAsyncContext:gs,withCtx:i,withDefaults:bs,withDirectives:A,withKeys:ys,withMemo:vs,withModifiers:xs,withScopeId:ws},Symbol.toStringTag,{value:"Module"}));function Ts(a){if(a.__esModule)return a;var s=a.default;if(typeof s=="function"){var r=function c(){if(this instanceof c){var l=[null];l.push.apply(l,arguments);var m=Function.bind.apply(s,l);return new m}return s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(a).forEach(function(c){var l=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(r,c,l.get?l:{enumerable:!0,get:function(){return a[c]}})}),r}const F=Ts(Is),{createElementVNode:Bs,openBlock:Rs,createElementBlock:Ps}=F;var Ns=function(s,r){return Rs(),Ps("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Bs("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])};const{createElementVNode:js,openBlock:zs,createElementBlock:Os}=F;var Vs=function(s,r){return zs(),Os("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[js("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])};const{createElementVNode:Hs,openBlock:As,createElementBlock:Ds}=F;var Fs=function(s,r){return As(),Ds("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Hs("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])},Ls=Ns,Y=Vs,Us=Fs;const{createElementVNode:qs,openBlock:Js,createElementBlock:Ks}=F;var Ws=function(s,r){return Js(),Ks("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[qs("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})])},ne=Ws;const Gs=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Qs={class:"fixed inset-0 z-10 overflow-y-auto"},Ys={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Xs={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Zs={class:"sm:flex sm:items-start"},eo={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},to={class:"mt-3 sm:ml-4 sm:mt-0 text-left"},so=e("div",{class:"mt-2"},[e("p",{class:"mb-2"},[x(" This checkout page uses the "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/guides/custom_checkout/"},"Bambora's Custom Checkout library"),x(" to customize the checkout form. ")]),e("p",{class:"mb-2"},"To continue, you can use the test card:"),e("ul",{class:"list-disc ml-8 my-2"},[e("li",null,"card #: 4030 0000 1000 1234"),e("li",null,"code: 123"),e("li",null,[x("expiry: 12/99 "),e("span",{class:"text-gray-400"},"(any date in the future)")])]),e("p",{class:"my-2"},[x("For a more comprehensive list of test cards, "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/references/payment_APIs/test_cards/"},"see the Bambora test cards page")])],-1),oo={__name:"CCInfoModal",setup(a){const s=y(!1);function r(){s.value=!s.value}return(c,l)=>(d(),g(M,null,[e("button",{class:"ml-1 rounded-full",onClick:r},[n(t(ne),{class:"h-6 w-6 text-blue-600"})]),n(t(Q),{as:"template",show:t(s)},{default:i(()=>[n(t(W),{as:"div",class:"relative z-10",onClose:l[0]||(l[0]=m=>s.value=!1)},{default:i(()=>[n(t(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[Gs]),_:1}),e("div",Qs,[e("div",Ys,[n(t(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[n(t(G),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:i(()=>[e("div",Xs,[e("div",Zs,[e("div",eo,[n(t(Y),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",to,[n(t(D),{as:"h3",class:"text-base text-center sm:text-left font-semibold leading-6 text-gray-900"},{default:i(()=>[x("For demonstration purposes only")]),_:1}),so])])]),e("div",{class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:r},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}};function ao({cardNumberElementId:a,isCardNumberComplete:s,cardNumberError:r,cvvElementId:c,isCVVComplete:l,cvvError:m,expiryElementId:_,isExpiryComplete:p,expiryError:b,setTokenizedCard:f,tokenizationError:v,cardBrandSVG:h,setIsLoading:w}){const k={init:function(){console.log("checkout.init()"),this.customCheckout=customcheckout(),this.createInputs(),this.addListeners()},createInputs:function(){console.log("checkout.createInputs()");var o={};let $=a||"#card-number";this.customCheckout.create("card-number",o).mount($);let E=c||"#card-cvv";this.customCheckout.create("cvv",o).mount(E);let z=_||"#card-expiry";this.customCheckout.create("expiry",o).mount(z)},addListeners:function(){this.customCheckout.on("brand",function(o){console.log("brand: "+JSON.stringify(o)),o.brand&&o.brand!=="unknown"?h.value=`https://cdn.na.bambora.com/downloads/images/cards/${o.brand}.svg`:h.value=void 0}),this.customCheckout.on("empty",function(o){console.log("empty: "+JSON.stringify(o)),o.empty&&(o.field==="card-number"?s.value=!1:o.field==="cvv"?l.value=!1:o.field==="expiry"&&(p.value=!1))}),this.customCheckout.on("complete",function(o){console.log("complete: "+JSON.stringify(o)),o.field==="card-number"?(r.value=void 0,s.value=!0):o.field==="cvv"?(m.value=void 0,l.value=!0):o.field==="expiry"&&(b.value=void 0,p.value=!0)}),this.customCheckout.on("error",function(o){console.log("error: "+JSON.stringify(o)),o.field==="card-number"?(r.value=o.message,s.value=!1):o.field==="cvv"?(m.value=o.message,l.value=!1):o.field==="expiry"&&(b.value=o.message,p.value=!1)})},onSubmit:function(){console.log("checkout.onSubmit()"),f(void 0),v.value=void 0,w(!0);var o=function($){console.log("token result : "+JSON.stringify($)),$.error?v.value=`Error creating token: ${JSON.stringify($.error,null,4)}`:f($.token),w(!1)};console.log("checkout.createToken()"),this.customCheckout.createToken(o)}};return k.init(),k}function U(a){return typeof a=="function"?a():t(a)}const no=typeof window<"u",lo=()=>{};function ro(a,s=!0){q()?se(a):s?a():te(a)}function co(a){q()&&K(a)}const io=no?window.document:void 0;function uo(a,s=lo,r={}){const{immediate:c=!0,manual:l=!1,type:m="text/javascript",async:_=!0,crossOrigin:p,referrerPolicy:b,noModule:f,defer:v,document:h=io,attrs:w={}}=r,k=y(null);let o=null;const $=T=>new Promise((X,Z)=>{const L=S=>(k.value=S,X(S),S);if(!h){X(!1);return}let ee=!1,u=h.querySelector(`script[src="${U(a)}"]`);u?u.hasAttribute("data-loaded")&&L(u):(u=h.createElement("script"),u.type=m,u.async=_,u.src=U(a),v&&(u.defer=v),p&&(u.crossOrigin=p),f&&(u.noModule=f),b&&(u.referrerPolicy=b),Object.entries(w).forEach(([S,le])=>u==null?void 0:u.setAttribute(S,le)),ee=!0),u.addEventListener("error",S=>Z(S)),u.addEventListener("abort",S=>Z(S)),u.addEventListener("load",()=>{u.setAttribute("data-loaded","true"),s(u),L(u)}),ee&&(u=h.head.appendChild(u)),T||L(u)}),E=(T=!0)=>(o||(o=$(T)),o),z=()=>{if(!h)return;o=null,k.value&&(k.value=null);const T=h.querySelector(`script[src="${U(a)}"]`);T&&h.head.removeChild(T)};return c&&!l&&ro(E),l||co(z),{scriptTag:k,load:E,unload:z}}const mo={class:"mb-4 items-center"},po={class:"flex items-center text-base font-semibold leading-7 text-gray-900"},fo={class:"grid grid-cols-1 gap-x-6 gap-y-8 grid-cols-6"},ho={class:"col-span-6"},_o=e("label",{for:"fullname",class:"block text-sm font-medium leading-6 text-gray-900"},"Full Name",-1),go={class:"mt-2"},bo={class:"col-span-6"},yo=e("label",{for:"card-number",class:"block text-sm font-medium leading-6 text-gray-900"},"Card Number",-1),vo={class:"mt-2"},xo=e("div",{id:"card-number",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,-1),wo={key:0,class:"text-red-500 text-xs italic"},ko={class:"col-span-3"},Co=e("label",{for:"card-cvv",class:"block text-sm font-medium leading-6 text-gray-900"},"CVV",-1),$o={class:"mt-2"},So=e("div",{name:"card-cvv",id:"card-cvv",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,-1),Eo={key:0,class:"text-red-500 text-xs italic"},Mo={class:"col-span-3"},Io=e("label",{for:"card-expiry",class:"block text-sm font-medium leading-6 text-gray-900"},"Expiry",-1),To={class:"mt-2"},Bo=e("div",{id:"card-expiry",class:"h-9 px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6 items-center"},null,-1),Ro={key:0,class:"text-red-500 text-xs italic"},Po={key:0,class:"col-span-6"},No={class:"text-red-500 text-xs italic"},jo={class:"col-span-6"},zo=["disabled"],Oo={key:0,viewBox:"0 0 30 24",class:"mr-3 h-5 w-5"},Vo=["xlink:href"],Ho={__name:"CCInputs",setup(a){const s=N(),r=ae(),{cardHolderFullName:c}=j(s),l=y(void 0),m=y(!1),_=y(void 0),p=y(!1),b=y(void 0),f=y(!1),v=y(void 0),h=y(void 0),w=y(void 0);return uo("https://libs.na.bambora.com/customcheckout/1/customcheckout.js",()=>{w.value=ao({isCardNumberComplete:m,cardNumberError:l,isCVVComplete:p,cvvError:_,isExpiryComplete:f,expiryError:b,setTokenizedCard:s.setTokenizedCard,tokenizationError:v,cardBrandSVG:h,setIsLoading:r.setIsLoading})}),(k,o)=>{const $=oo;return d(),g("div",null,[e("div",mo,[e("h3",po,[x("Credit Card Information "),n($)])]),e("div",fo,[e("div",ho,[_o,e("div",go,[A(e("input",{style:{outline:"none"},type:"text",id:"fullname","onUpdate:modelValue":o[0]||(o[0]=E=>O(c)?c.value=E:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,512),[[H,t(c)]])])]),e("div",bo,[yo,e("div",vo,[xo,t(l)?(d(),g("p",wo,C(t(l)),1)):B("",!0)])]),e("div",ko,[Co,e("div",$o,[So,t(_)?(d(),g("p",Eo,C(t(_)),1)):B("",!0)])]),e("div",Mo,[Io,e("div",To,[Bo,t(b)?(d(),g("p",Ro,C(t(b)),1)):B("",!0)])]),t(v)?(d(),g("div",Po,[e("p",No,C(t(v)),1)])):B("",!0),e("div",jo,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",disabled:!t(w)||!t(m)||!t(p)||!t(f),onClick:o[1]||(o[1]=(...E)=>t(w).onSubmit&&t(w).onSubmit(...E))},[t(h)!==void 0?(d(),g("svg",Oo,[e("image",{"xlink:href":t(h),width:"30",height:"24"},null,8,Vo)])):B("",!0),x(" Pay ")],8,zo)])])])}}},Ao=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Do={class:"fixed inset-0 z-10 overflow-y-auto"},Fo={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Lo={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Uo={class:"sm:flex sm:items-start"},qo={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},Jo={class:"mt-3 sm:ml-4 sm:mt-0 text-left"},Ko=e("div",{class:"mt-2"},[e("p",{class:"mb-2"},[x(" The token retrieved in the previous section should be sent to a server, which will use the merchant id/passcode to complete the transaction using the "),e("a",{class:"text-blue-500",target:"_blank",href:"https://dev.na.bambora.com/docs/references/payment_APIs/"},"Bambora Payment API")]),e("p",{class:"mb-2"}," For the purposes of this demo, this section can be used to simulate the server-side request, on the client side. This should NOT be done in production as it will expose your merchant id/passcode. ")],-1),Wo={__name:"MerchantInfoModal",setup(a){const s=y(!1);function r(){s.value=!s.value}return(c,l)=>(d(),g(M,null,[e("button",{class:"ml-1 rounded-full",onClick:r},[n(t(ne),{class:"h-6 w-6 text-blue-600"})]),n(t(Q),{as:"template",show:t(s)},{default:i(()=>[n(t(W),{as:"div",class:"relative z-10",onClose:l[0]||(l[0]=m=>s.value=!1)},{default:i(()=>[n(t(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[Ao]),_:1}),e("div",Do,[e("div",Fo,[n(t(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[n(t(G),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:i(()=>[e("div",Lo,[e("div",Uo,[e("div",qo,[n(t(Y),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",Jo,[n(t(D),{as:"h3",class:"text-center sm:text-left text-base font-semibold leading-6 text-gray-900"},{default:i(()=>[x("Server side request")]),_:1}),Ko])])]),e("div",{class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:r},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},Go={class:"mb-4 items-center"},Qo={class:"flex items-center text-base font-semibold leading-7 text-gray-900"},Yo={class:"grid grid-cols-1 gap-x-6 gap-y-8 grid-cols-6"},Xo={class:"col-span-6"},Zo=e("label",{for:"cc-token",class:"block text-sm font-medium leading-6 text-gray-900"},"CC Token",-1),ea={class:"mt-2"},ta=["value"],sa={class:"col-span-6"},oa=e("label",{for:"merchant-id",class:"block text-sm font-medium leading-6 text-gray-900"},"Merchant Id",-1),aa={class:"mt-2"},na={class:"col-span-6"},la=e("label",{for:"merchant-passcode",class:"block text-sm font-medium leading-6 text-gray-900"},"Merchant Passcode",-1),ra={class:"mt-2"},ca={class:"col-span-6"},ia=["disabled"],da=P({__name:"MerchantInfo",setup(a){const s=N(),r=ae(),{tokenizedCard:c,cardHolderFullName:l}=j(s),m=y(void 0),_=y(void 0);async function p(){const b=m.value,f=_.value,v=window.btoa(`${b}:${f}`);console.log("submitCCToken()");const h={amount:s.totalBillable,payment_method:"token",token:{name:l.value,code:c.value,completed:!0}};console.log(`cardholder name: ${l.value}`),console.log(`tokenized card: ${c.value}`),console.log(`encoded passcode: ${v}`),r.setIsLoading(!0);const w=await fetch("https://api.na.bambora.com/v1/payments",{method:"POST",cache:"no-cache",headers:{Authorization:`Passcode ${v}`,"Content-Type":"application/json"},body:JSON.stringify(h)}),k=await w.json();w.status===200?(s.setCheckoutHasError(!1),s.setCheckoutPaymentResponse(k)):(s.setCheckoutHasError(!0),s.setCheckoutPaymentResponse(k)),r.setIsLoading(!1),s.toggleCheckoutModal()}return(b,f)=>{const v=Wo;return d(),g(M,null,[e("div",Go,[e("h3",Qo,[x("Merchant Information "),n(v)])]),e("div",Yo,[e("div",Xo,[Zo,e("div",ea,[e("input",{style:{outline:"none"},type:"text",id:"cc-token",value:t(s).tokenizedCard,disabled:"",class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,8,ta)])]),e("div",sa,[oa,e("div",aa,[A(e("input",{style:{outline:"none"},type:"text",id:"merchant-id","onUpdate:modelValue":f[0]||(f[0]=h=>O(m)?m.value=h:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,512),[[H,t(m)]])])]),e("div",na,[la,e("div",ra,[A(e("input",{style:{outline:"none"},type:"text",id:"merchant-passcode","onUpdate:modelValue":f[1]||(f[1]=h=>O(_)?_.value=h:null),class:"px-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 text-sm leading-6"},null,512),[[H,t(_)]])])]),e("div",ca,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",disabled:!t(s).tokenizedCard,onClick:p}," Complete Purchase ",8,ia)])])],64)}}}),ua={class:"bg-white px-4 pb-4 pt-5"},ma={class:"flex items-start justify-center items-center"},pa={key:0,class:"text-red-500 whitespace-pre col-span-6 p-4 mt-8"},fa={key:1,class:"text-green-500 whitespace-pre col-span-6 p-4 mt-8"},ha=P({__name:"MerchantResponseTabSummary",setup(a){const s=N(),{checkoutShowModal:r,checkoutHasError:c}=j(s);return(l,m)=>(d(),g("div",ua,[e("div",ma,[e("div",{class:J(["flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full",t(c)?"bg-red-100 text-red-500":"bg-green-100 text-green-500"])},[t(c)?(d(),I(t(Y),{key:0,class:"h-6 w-6"})):(d(),I(t(Ls),{key:1,class:"h-6 w-6"}))],2),e("div",null,[n(t(D),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:i(()=>[t(c)?(d(),g("span",pa,"Purchase Failed!")):(d(),g("span",fa,"Purchase Completed!"))]),_:1})])])]))}}),_a={class:"sm:flex items-start"},ga={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},ba={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},ya={class:"whitespace-pre bg-gray-200 p-4 rounded-md"},va=P({__name:"MerchantResponseTabInfo",setup(a){const s=N(),{checkoutHasError:r,checkoutPaymentResponse:c}=j(s);return(l,m)=>(d(),g("div",_a,[e("div",ga,[n(t(Us),{class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})]),e("div",ba,[n(t(D),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 mb-2"},{default:i(()=>[x("API response dump")]),_:1}),e("div",ya,C(t(c)),1)])]))}}),xa=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),wa={class:"fixed inset-0 z-10 overflow-y-auto"},ka={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ca={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},$a={class:"bg-gray-100 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},Sa=P({__name:"MerchantResponseModal",setup(a){const s=y(!1),r=N(),{checkoutShowModal:c}=j(r),l={Summary:{Content:ha},Info:{Content:va}};return(m,_)=>(d(),I(t(Q),{as:"template",show:t(c)},{default:i(()=>[n(t(W),{as:"div",class:"relative z-10",onClose:_[1]||(_[1]=p=>s.value=!1)},{default:i(()=>[n(t(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[xa]),_:1}),e("div",wa,[e("div",ka,[n(t(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 translate-y-0 scale-95","enter-to":"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 scale-100","leave-to":"opacity-0 translate-y-4 translate-y-0 scale-95"},{default:i(()=>[n(t(G),{class:"relative transform overflow-scroll rounded-lg bg-white text-left shadow-xl transition-all my-8 max-w-5xl"},{default:i(()=>[n(t(ks),null,{default:i(()=>[n(t(Cs),{class:"flex space-x-1 bg-gray-100 p-1"},{default:i(()=>[(d(!0),g(M,null,V(Object.keys(l),p=>(d(),I(t($s),{as:"template",key:p},{default:i(({selected:b})=>[e("button",{class:J(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white",b?"bg-white shadow":"text-blue-100"])},C(p),3)]),_:2},1024))),128))]),_:1}),n(t(Ss),{class:"mt-2"},{default:i(()=>[(d(!0),g(M,null,V(Object.values(l),(p,b)=>(d(),I(t(Es),{key:b,class:"p-3"},{default:i(()=>[e("div",Ca,[(d(),I(oe(p.Content)))])]),_:2},1024))),128))]),_:1})]),_:1}),e("div",$a,[e("button",{type:"button",class:"flex items-center rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white",onClick:_[0]||(_[0]=(...p)=>t(r).toggleCheckoutModal&&t(r).toggleCheckoutModal(...p))},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Ea={class:"grid grid-cols-1 lg:grid-cols-3 pt-4"},Ma={class:"flex justify-center lg:col-span-1 mb-10"},Ia={class:"w-96"},Ta=e("div",{class:"flex justify-between border-b p-2 font-medium bg-gray-100 items-center"},[e("div",{class:"w-1/3"},"Product Name"),e("div",{class:"w-1/3 text-center"},"Quantity"),e("div",{class:"w-1/3"},"Sub total")],-1),Ba={class:"w-1/3"},Ra={class:"w-1/3 text-center"},Pa={class:"w-1/3"},Na={class:"flex justify-between border-b p-2 font-normal bg-gray-100"},ja=e("div",{class:"w-2/3"},"Total",-1),za={class:"w-1/3"},Oa={class:"w-full lg:col-span-2 lg:row-start-1 flex justify-center"},Va={class:"w-96"},Ha=e("hr",{class:"my-10"},null,-1),Fa=P({__name:"checkout",setup(a){const s=N();return K(()=>{s.setCheckoutHasError(!1),s.setCheckoutShowModal(!1),s.setCardHolderFullName(void 0),s.setCheckoutPaymentResponse(void 0),s.setTokenizedCard(void 0)}),(r,c)=>{const l=ce,m=re,_=Sa,p=Ho,b=da;return d(),g(M,null,[n(m,null,{default:i(()=>[n(l,null,{default:i(()=>[x("Cart - Bambora Demo Shop")]),_:1})]),_:1}),n(_),e("div",Ea,[e("div",Ma,[e("div",Ia,[Ta,(d(!0),g(M,null,V(t(s).items,f=>(d(),g("div",{class:"flex justify-between border-b p-2 font-normal",key:f.productId},[e("div",Ba,C(f.productName),1),e("div",Ra,C(f.quantity),1),e("div",Pa,"$"+C(f.subTotal.toFixed(2).toLocaleString()),1)]))),128)),e("div",Na,[ja,e("div",za,"$"+C(t(s).totalBillable),1)])])]),e("div",Oa,[e("div",Va,[n(p),Ha,n(b)])])])],64)}}});export{Fa as default};
